src/modules/running/catalog.ts:64:    description: "Endurance, economia e maior uso de gordura como substrato.",
src/services/nutrition/nutrition.adapter.ts:3: * para o formato usado no estado/UI do app (refeicoes[] + macros pt-BR).
src/services/nutrition/nutrition.adapter.ts:10:  proteina: number;
src/services/nutrition/nutrition.adapter.ts:11:  carboidratos: number;
src/services/nutrition/nutrition.adapter.ts:12:  gorduras: number;
src/services/nutrition/nutrition.adapter.ts:23:    proteina?: number;
src/services/nutrition/nutrition.adapter.ts:24:    carboidratos?: number;
src/services/nutrition/nutrition.adapter.ts:25:    gorduras?: number;
src/services/nutrition/nutrition.adapter.ts:31:  macros: MfMacros;
src/services/nutrition/nutrition.adapter.ts:83:        proteina: n(it?.proteinG ?? it?.protein ?? it?.proteina ?? 0),
src/services/nutrition/nutrition.adapter.ts:84:        carboidratos: n(it?.carbsG ?? it?.carbs ?? it?.carboidratos ?? 0),
src/services/nutrition/nutrition.adapter.ts:85:        gorduras: n(it?.fatG ?? it?.fat ?? it?.gorduras ?? 0),
src/services/nutrition/nutrition.adapter.ts:100: * Normaliza macros vindos do ActivePlan (podem ser proteinG/carbsG/fatG ou protein/carbs/fat)
src/services/nutrition/nutrition.adapter.ts:101: * para o formato do app (proteina/carboidratos/gorduras/calorias).
src/services/nutrition/nutrition.adapter.ts:103:export function adaptMacrosToPtBR(macros: any, kcalFallback = 0): MfMacros {
src/services/nutrition/nutrition.adapter.ts:105:    n(macros?.calorias ?? macros?.kcal ?? macros?.kcalTarget ?? macros?.calories ?? kcalFallback, kcalFallback);
src/services/nutrition/nutrition.adapter.ts:107:  const proteina = n(macros?.proteina ?? macros?.proteinG ?? macros?.protein ?? 0);
src/services/nutrition/nutrition.adapter.ts:108:  const carboidratos = n(macros?.carboidratos ?? macros?.carbsG ?? macros?.carbs ?? 0);
src/services/nutrition/nutrition.adapter.ts:109:  const gorduras = n(macros?.gorduras ?? macros?.fatG ?? macros?.fat ?? 0);
src/services/nutrition/nutrition.adapter.ts:111:  return { calorias, proteina, carboidratos, gorduras };
src/services/nutrition/nutrition.adapter.ts:134:      nutrition?.caloriasAlvo ??
src/services/nutrition/nutrition.adapter.ts:142:  const macros = adaptMacrosToPtBR(nutrition?.macros ?? nutrition, kcalTargetNum);
src/services/nutrition/nutrition.adapter.ts:144:  return { macros, refeicoes, kcalTarget, meals: mealsArr };
src/pages/PlanosAtivos.tsx:46:  const macros = activePlan?.nutrition?.macros ?? null;
src/pages/PlanosAtivos.tsx:73:    // Se houver plano ativo com meals/macros e nutricao ainda nao estiver hidratada, popula no formato do app.
src/pages/PlanosAtivos.tsx:76:      const hasMacros = !!(state as any)?.nutricao?.macros;
src/pages/PlanosAtivos.tsx:81:            macros: adapted.macros,
src/pages/PlanosAtivos.tsx:240:                    {macros ? `${macros.protein ?? "—"}g P • ${macros.carbs ?? "—"}g C • ${macros.fat ?? "—"}g G` : "—"}
src/pages/EditDiet.tsx:35:    "- Calorias e macros",
src/pages/EditDiet.tsx:69:const SUBSTITUTOS_DATABASE: Record<string, { nome: string; calorias: number; proteinas: number; carboidratos: number; gorduras: number }[]> = {
src/pages/EditDiet.tsx:70:  'proteina-animal': [
src/pages/EditDiet.tsx:71:    { nome: 'Peito de Frango Grelhado', calorias: 165, proteinas: 31, carboidratos: 0, gorduras: 3.6 },
src/pages/EditDiet.tsx:72:    { nome: 'Filé de Tilápia', calorias: 129, proteinas: 26, carboidratos: 0, gorduras: 2.7 },
src/pages/EditDiet.tsx:73:    { nome: 'Atum em Água', calorias: 132, proteinas: 29, carboidratos: 0, gorduras: 1.3 },
src/pages/EditDiet.tsx:74:    { nome: 'Salmão Grelhado', calorias: 206, proteinas: 22, carboidratos: 0, gorduras: 13 },
src/pages/EditDiet.tsx:75:    { nome: 'Peito de Peru Fatiado', calorias: 111, proteinas: 24, carboidratos: 0.6, gorduras: 1 },
src/pages/EditDiet.tsx:76:    { nome: 'Ovo Inteiro Cozido', calorias: 155, proteinas: 13, carboidratos: 1.1, gorduras: 11 },
src/pages/EditDiet.tsx:77:    { nome: 'Clara de Ovo', calorias: 52, proteinas: 11, carboidratos: 0.7, gorduras: 0.2 },
src/pages/EditDiet.tsx:78:    { nome: 'Patinho Moído Magro', calorias: 176, proteinas: 26, carboidratos: 0, gorduras: 7.5 },
src/pages/EditDiet.tsx:79:    { nome: 'Sardinha em Conserva', calorias: 208, proteinas: 25, carboidratos: 0, gorduras: 11 },
src/pages/EditDiet.tsx:80:    { nome: 'Camarão Cozido', calorias: 99, proteinas: 24, carboidratos: 0.2, gorduras: 0.3 },
src/pages/EditDiet.tsx:81:    { nome: 'Bacalhau Dessalgado', calorias: 82, proteinas: 18, carboidratos: 0, gorduras: 0.7 },
src/pages/EditDiet.tsx:82:    { nome: 'Alcatra Grelhada', calorias: 168, proteinas: 28, carboidratos: 0, gorduras: 5.8 }
src/pages/EditDiet.tsx:84:  'proteina-vegetal': [
src/pages/EditDiet.tsx:85:    { nome: 'Tofu Firme', calorias: 144, proteinas: 17, carboidratos: 3.5, gorduras: 9 },
src/pages/EditDiet.tsx:86:    { nome: 'Tempeh', calorias: 193, proteinas: 19, carboidratos: 9, gorduras: 11 },
src/pages/EditDiet.tsx:87:    { nome: 'Edamame Cozido', calorias: 122, proteinas: 11, carboidratos: 10, gorduras: 5 },
src/pages/EditDiet.tsx:88:    { nome: 'Lentilha Cozida', calorias: 116, proteinas: 9, carboidratos: 20, gorduras: 0.4 },
src/pages/EditDiet.tsx:89:    { nome: 'Grão de Bico Cozido', calorias: 164, proteinas: 9, carboidratos: 27, gorduras: 2.6 },
src/pages/EditDiet.tsx:90:    { nome: 'Feijão Preto Cozido', calorias: 132, proteinas: 9, carboidratos: 24, gorduras: 0.5 },
src/pages/EditDiet.tsx:91:    { nome: 'Quinoa Cozida', calorias: 120, proteinas: 4, carboidratos: 21, gorduras: 1.9 },
src/pages/EditDiet.tsx:92:    { nome: 'Proteína de Soja Texturizada', calorias: 170, proteinas: 52, carboidratos: 30, gorduras: 1 },
src/pages/EditDiet.tsx:93:    { nome: 'Ervilha Verde Cozida', calorias: 81, proteinas: 5, carboidratos: 14, gorduras: 0.4 },
src/pages/EditDiet.tsx:94:    { nome: 'Seitan (Glúten de Trigo)', calorias: 120, proteinas: 25, carboidratos: 4, gorduras: 0.5 },
src/pages/EditDiet.tsx:95:    { nome: 'Amendoim Cru', calorias: 567, proteinas: 26, carboidratos: 16, gorduras: 49 },
src/pages/EditDiet.tsx:96:    { nome: 'Amêndoas', calorias: 579, proteinas: 21, carboidratos: 22, gorduras: 50 }
src/pages/EditDiet.tsx:98:  'carboidrato': [
src/pages/EditDiet.tsx:99:    { nome: 'Arroz Integral Cozido', calorias: 112, proteinas: 2.6, carboidratos: 24, gorduras: 0.9 },
src/pages/EditDiet.tsx:100:    { nome: 'Arroz Branco Cozido', calorias: 130, proteinas: 2.7, carboidratos: 28, gorduras: 0.3 },
src/pages/EditDiet.tsx:101:    { nome: 'Batata Doce Cozida', calorias: 86, proteinas: 1.6, carboidratos: 20, gorduras: 0.1 },
src/pages/EditDiet.tsx:102:    { nome: 'Batata Inglesa Cozida', calorias: 87, proteinas: 2, carboidratos: 20, gorduras: 0.1 },
src/pages/EditDiet.tsx:103:    { nome: 'Macarrão Integral Cozido', calorias: 124, proteinas: 5, carboidratos: 26, gorduras: 0.5 },
src/pages/EditDiet.tsx:104:    { nome: 'Pão Integral', calorias: 247, proteinas: 13, carboidratos: 41, gorduras: 3.4 },
src/pages/EditDiet.tsx:105:    { nome: 'Aveia em Flocos', calorias: 389, proteinas: 17, carboidratos: 66, gorduras: 7 },
src/pages/EditDiet.tsx:106:    { nome: 'Tapioca', calorias: 358, proteinas: 0.2, carboidratos: 88, gorduras: 0.3 },
src/pages/EditDiet.tsx:107:    { nome: 'Mandioca Cozida', calorias: 125, proteinas: 0.6, carboidratos: 30, gorduras: 0.3 },
src/pages/EditDiet.tsx:108:    { nome: 'Cuscuz Marroquino', calorias: 112, proteinas: 3.8, carboidratos: 23, gorduras: 0.2 },
src/pages/EditDiet.tsx:109:    { nome: 'Inhame Cozido', calorias: 118, proteinas: 1.5, carboidratos: 28, gorduras: 0.2 },
src/pages/EditDiet.tsx:110:    { nome: 'Banana', calorias: 89, proteinas: 1.1, carboidratos: 23, gorduras: 0.3 }
src/pages/EditDiet.tsx:112:  'gordura-saudavel': [
src/pages/EditDiet.tsx:113:    { nome: 'Azeite de Oliva Extra Virgem', calorias: 884, proteinas: 0, carboidratos: 0, gorduras: 100 },
src/pages/EditDiet.tsx:114:    { nome: 'Abacate', calorias: 160, proteinas: 2, carboidratos: 9, gorduras: 15 },
src/pages/EditDiet.tsx:115:    { nome: 'Castanha do Pará', calorias: 656, proteinas: 14, carboidratos: 12, gorduras: 66 },
src/pages/EditDiet.tsx:116:    { nome: 'Castanha de Caju', calorias: 553, proteinas: 18, carboidratos: 30, gorduras: 44 },
src/pages/EditDiet.tsx:117:    { nome: 'Nozes', calorias: 654, proteinas: 15, carboidratos: 14, gorduras: 65 },
src/pages/EditDiet.tsx:118:    { nome: 'Amêndoas', calorias: 579, proteinas: 21, carboidratos: 22, gorduras: 50 },
src/pages/EditDiet.tsx:119:    { nome: 'Óleo de Coco', calorias: 862, proteinas: 0, carboidratos: 0, gorduras: 100 },
src/pages/EditDiet.tsx:120:    { nome: 'Pasta de Amendoim Integral', calorias: 588, proteinas: 25, carboidratos: 20, gorduras: 50 },
src/pages/EditDiet.tsx:121:    { nome: 'Semente de Chia', calorias: 486, proteinas: 17, carboidratos: 42, gorduras: 31 },
src/pages/EditDiet.tsx:122:    { nome: 'Semente de Linhaça', calorias: 534, proteinas: 18, carboidratos: 29, gorduras: 42 },
src/pages/EditDiet.tsx:123:    { nome: 'Gema de Ovo', calorias: 322, proteinas: 16, carboidratos: 3.6, gorduras: 27 },
src/pages/EditDiet.tsx:124:    { nome: 'Salmão (gordura natural)', calorias: 206, proteinas: 22, carboidratos: 0, gorduras: 13 }
src/pages/EditDiet.tsx:127:    { nome: 'Leite Desnatado', calorias: 34, proteinas: 3.4, carboidratos: 5, gorduras: 0.1 },
src/pages/EditDiet.tsx:128:    { nome: 'Leite Integral', calorias: 61, proteinas: 3.2, carboidratos: 4.8, gorduras: 3.3 },
src/pages/EditDiet.tsx:129:    { nome: 'Iogurte Grego Natural 0%', calorias: 59, proteinas: 10, carboidratos: 3.6, gorduras: 0.4 },
src/pages/EditDiet.tsx:130:    { nome: 'Iogurte Natural Integral', calorias: 61, proteinas: 3.5, carboidratos: 4.7, gorduras: 3.3 },
src/pages/EditDiet.tsx:131:    { nome: 'Queijo Cottage', calorias: 98, proteinas: 11, carboidratos: 3.4, gorduras: 4.3 },
src/pages/EditDiet.tsx:132:    { nome: 'Queijo Minas Frescal', calorias: 264, proteinas: 17, carboidratos: 3.2, gorduras: 21 },
src/pages/EditDiet.tsx:133:    { nome: 'Ricota Fresca', calorias: 174, proteinas: 11, carboidratos: 3.4, gorduras: 13 },
src/pages/EditDiet.tsx:134:    { nome: 'Requeijão Light', calorias: 180, proteinas: 8, carboidratos: 3, gorduras: 15 },
src/pages/EditDiet.tsx:135:    { nome: 'Whey Protein Isolado', calorias: 110, proteinas: 25, carboidratos: 2, gorduras: 0.5 },
src/pages/EditDiet.tsx:136:    { nome: 'Kefir Natural', calorias: 41, proteinas: 3.3, carboidratos: 4.5, gorduras: 1 },
src/pages/EditDiet.tsx:137:    { nome: 'Leite de Búfala', calorias: 97, proteinas: 3.8, carboidratos: 5.2, gorduras: 6.9 },
src/pages/EditDiet.tsx:138:    { nome: 'Coalhada Natural', calorias: 45, proteinas: 3.4, carboidratos: 5, gorduras: 1.1 }
src/pages/EditDiet.tsx:141:    { nome: 'Brócolis Cozido', calorias: 35, proteinas: 2.4, carboidratos: 7, gorduras: 0.4 },
src/pages/EditDiet.tsx:142:    { nome: 'Couve-Flor', calorias: 25, proteinas: 1.9, carboidratos: 5, gorduras: 0.3 },
src/pages/EditDiet.tsx:143:    { nome: 'Espinafre', calorias: 23, proteinas: 2.9, carboidratos: 3.6, gorduras: 0.4 },
src/pages/EditDiet.tsx:144:    { nome: 'Abobrinha', calorias: 17, proteinas: 1.2, carboidratos: 3.1, gorduras: 0.3 },
src/pages/EditDiet.tsx:145:    { nome: 'Tomate', calorias: 18, proteinas: 0.9, carboidratos: 3.9, gorduras: 0.2 },
src/pages/EditDiet.tsx:146:    { nome: 'Alface Americana', calorias: 14, proteinas: 0.9, carboidratos: 2.9, gorduras: 0.1 },
src/pages/EditDiet.tsx:147:    { nome: 'Cenoura', calorias: 41, proteinas: 0.9, carboidratos: 10, gorduras: 0.2 },
src/pages/EditDiet.tsx:148:    { nome: 'Pepino', calorias: 15, proteinas: 0.7, carboidratos: 3.6, gorduras: 0.1 },
src/pages/EditDiet.tsx:149:    { nome: 'Berinjela', calorias: 25, proteinas: 1, carboidratos: 6, gorduras: 0.2 },
src/pages/EditDiet.tsx:150:    { nome: 'Rúcula', calorias: 25, proteinas: 2.6, carboidratos: 3.7, gorduras: 0.7 },
src/pages/EditDiet.tsx:151:    { nome: 'Aspargos', calorias: 20, proteinas: 2.2, carboidratos: 3.9, gorduras: 0.1 },
src/pages/EditDiet.tsx:152:    { nome: 'Vagem', calorias: 31, proteinas: 1.8, carboidratos: 7, gorduras: 0.2 }
src/pages/EditDiet.tsx:162:    return 'proteina-animal'
src/pages/EditDiet.tsx:165:    return 'proteina-vegetal'
src/pages/EditDiet.tsx:169:    return 'carboidrato'
src/pages/EditDiet.tsx:172:    return 'gordura-saudavel'
src/pages/EditDiet.tsx:181:function ajustarGramas(alimentoOriginal: AlimentoRefeicao, substituto: typeof SUBSTITUTOS_DATABASE.proteina_animal[0]): number {
src/pages/EditDiet.tsx:211:  const handleSubstituir = (refeicaoIdx: number, alimentoIdx: number, substituto: typeof SUBSTITUTOS_DATABASE.proteina_animal[0]) => {
src/pages/EditDiet.tsx:223:      proteinas: substituto.proteinas * fatorAjuste,
src/pages/EditDiet.tsx:224:      carboidratos: substituto.carboidratos * fatorAjuste,
src/pages/EditDiet.tsx:225:      gorduras: substituto.gorduras * fatorAjuste
src/pages/EditDiet.tsx:364:                                        <span className="text-red-400">{(substituto.proteinas * fator).toFixed(1)}g P</span>
src/pages/EditDiet.tsx:365:                                        <span className="text-yellow-400">{(substituto.carboidratos * fator).toFixed(1)}g C</span>
src/pages/EditDiet.tsx:366:                                        <span className="text-[#1E6BFF]">{(substituto.gorduras * fator).toFixed(1)}g G</span>
src/pages/EditDiet.tsx:379:                      <span className="text-red-400">Proteínas: {alimento.proteinas.toFixed(1)}g</span>
src/pages/EditDiet.tsx:380:                      <span className="text-yellow-400">Carbo: {alimento.carboidratos.toFixed(1)}g</span>
src/pages/EditDiet.tsx:381:                      <span className="text-[#1E6BFF]">Gordura: {alimento.gorduras.toFixed(1)}g</span>
src/pages/Dashboard.tsx:59:      meta: state.nutricao?.macros.calorias || 2000
src/pages/Dashboard.tsx:138:              <p className="text-xs text-muted-foreground truncate">Meta: {state.nutricao?.macros.calorias || 0}</p>
src/pages/Dashboard.tsx:248:                  {state.nutricao.refeicoes.length} refeições • {state.nutricao.macros.calorias} kcal/dia
src/services/nutrition/engine/nutritionEngine.ts:2:// Motor nutricional puro: REE/TDEE/macros + heurística de biotipo (sem pseudociência).
src/services/nutrition/engine/nutritionEngine.ts:34:  proteina_g: number;
src/services/nutrition/engine/nutritionEngine.ts:36:  gordura_g: number;
src/services/nutrition/engine/nutritionEngine.ts:47:  macros: Macros;
src/services/nutrition/engine/nutritionEngine.ts:71:export function reeMifflin(input: BodyInput): number {
src/services/nutrition/engine/nutritionEngine.ts:74:  // Mifflin-St Jeor (kcal/d)
src/services/nutrition/engine/nutritionEngine.ts:78:export function reeCunningham(massaMagraKg: number): number {
src/services/nutrition/engine/nutritionEngine.ts:79:  // Cunningham (kcal/d)
src/services/nutrition/engine/nutritionEngine.ts:87:  // Só usa Cunningham se massa magra for plausível
src/services/nutrition/engine/nutritionEngine.ts:89:    notas.push("REE por Cunningham (massa magra informada).");
src/services/nutrition/engine/nutritionEngine.ts:90:    return { ree: reeCunningham(mm), metodo: "cunningham", notas };
src/services/nutrition/engine/nutritionEngine.ts:92:  notas.push("REE por Mifflin-St Jeor (default).");
src/services/nutrition/engine/nutritionEngine.ts:93:  return { ree: reeMifflin(input), metodo: "mifflin", notas };
src/services/nutrition/engine/nutritionEngine.ts:188:  if (opts.biotipo === "mesomorfo") notas.push("Heurística mesomorfo: distribuição equilibrada de macros.");
src/services/nutrition/engine/nutritionEngine.ts:198:    macros: {
src/services/nutrition/engine/nutritionEngine.ts:200:      proteina_g: round(p),
src/services/nutrition/engine/nutritionEngine.ts:202:      gordura_g: round(f),
src/pages/NutritionPlan.tsx:85:    macros: { calorias: 0, proteina: 0, carboidratos: 0, gorduras: 0 },
src/pages/NutritionPlan.tsx:92:  const kcalTarget = nutricaoSafe?.macros?.calorias;
src/pages/NutritionPlan.tsx:154:              {nutricaoSafe.refeicoes.length} refeições • {nutricaoSafe.macros.calorias} kcal/dia
src/pages/NutritionPlan.tsx:203:                <p className="text-3xl font-bold text-green-400">{nutricaoSafe.macros.calorias}</p>
src/pages/NutritionPlan.tsx:208:                <p className="text-3xl font-bold text-[#1E6BFF]">{nutricaoSafe.macros.proteina}</p>
src/pages/NutritionPlan.tsx:213:                <p className="text-3xl font-bold text-yellow-400">{nutricaoSafe.macros.gorduras}</p>
src/pages/NutritionPlan.tsx:218:                <p className="text-3xl font-bold text-[#1E6BFF]">{nutricaoSafe.macros.carboidratos}</p>
src/pages/NutritionPlan.tsx:267:                <p className="text-gray-100 font-semibold">{dayTotals.proteinas.toFixed(1)} g</p>
src/pages/NutritionPlan.tsx:271:                <p className="text-gray-100 font-semibold">{dayTotals.carboidratos.toFixed(1)} g</p>
src/pages/NutritionPlan.tsx:275:                <p className="text-gray-100 font-semibold">{dayTotals.gorduras.toFixed(1)} g</p>
src/pages/NutritionPlan.tsx:309:                        P: {totals.proteinas.toFixed(1)}g
src/pages/NutritionPlan.tsx:312:                        C: {totals.carboidratos.toFixed(1)}g
src/pages/NutritionPlan.tsx:315:                        G: {totals.gorduras.toFixed(1)}g
src/pages/NutritionPlan.tsx:348:                                  <span className="font-medium">{alimento.proteinas.toFixed(1)}g</span>
src/pages/NutritionPlan.tsx:353:                                  <span className="font-medium">{alimento.carboidratos.toFixed(1)}g</span>
src/pages/NutritionPlan.tsx:358:                                  <span className="font-medium">{alimento.gorduras.toFixed(1)}g</span>
src/pages/NutritionPlan.tsx:380:                                      const macrosSub = {
src/pages/NutritionPlan.tsx:381:                                        calorias: Math.round((sub.macrosPor100g.calorias * alimento.gramas) / 100),
src/pages/NutritionPlan.tsx:382:                                        proteinas: ((sub.macrosPor100g.proteinas * alimento.gramas) / 100).toFixed(1),
src/pages/NutritionPlan.tsx:383:                                        carboidratos: ((sub.macrosPor100g.carboidratos * alimento.gramas) / 100).toFixed(1),
src/pages/NutritionPlan.tsx:384:                                        gorduras: ((sub.macrosPor100g.gorduras * alimento.gramas) / 100).toFixed(1)
src/pages/NutritionPlan.tsx:400:                                              {macrosSub.calorias} kcal
src/pages/NutritionPlan.tsx:406:                                              <span className="ml-1 font-medium text-[#1E6BFF]">{macrosSub.proteinas}g</span>
src/pages/NutritionPlan.tsx:410:                                              <span className="ml-1 font-medium text-green-400">{macrosSub.carboidratos}g</span>
src/pages/NutritionPlan.tsx:414:                                              <span className="ml-1 font-medium text-yellow-400">{macrosSub.gorduras}g</span>
src/pages/Report.tsx:132:  // MF_BLOCO6_REPORT_RESOLVER: resolver determinístico (state/perfil) para auditoria premium
src/pages/Report.tsx:138:    const metabolismo: any =
src/pages/Report.tsx:139:      pf?.metabolismo ??
src/pages/Report.tsx:142:      st?.metabolismo ??
src/pages/Report.tsx:154:    const macros: any =
src/pages/Report.tsx:155:      (st?.macros ?? pf?.macros ?? pf?.macroSplit ?? null);
src/pages/Report.tsx:157:    return { st, pf, metabolismo, dieta, macros };
src/pages/Report.tsx:166:    const metabolismo = (state?.metabolismo ?? perfil?.metabolismo ?? perfil?.calculoMetabolico ?? state?.calculoMetabolico ?? null) as any;
src/pages/Report.tsx:184:    // Metabolismo / GET
src/pages/Report.tsx:185:    if (!metabolismo) warn("metabolismo", "Metabolismo não encontrado no estado. Relatório pode ficar incompleto");
src/pages/Report.tsx:187:      ok("metabolismo", "Metabolismo disponível");
src/pages/Report.tsx:188:      const tmb = Number(metabolismo?.tmb ?? NaN);
src/pages/Report.tsx:189:      const get = Number(metabolismo?.get ?? metabolismo?.caloriasManutencao ?? NaN);
src/pages/Report.tsx:190:      const fafFinal = Number(metabolismo?.fafFinal ?? metabolismo?.faf ?? NaN);
src/pages/Report.tsx:194:        if (delta > 25) warn("get_consistencia", "GET parece inconsistente (Δ≈" + String(delta) + " kcal)");
src/pages/Report.tsx:195:        else ok("get_consistencia", "GET consistente com TMB×FAF");
src/pages/Report.tsx:197:        warn("get_consistencia", "Não foi possível auditar GET/TMB/FAF (valores ausentes)");
src/pages/Report.tsx:201:    // Dieta / macros (se existir)
src/pages/Report.tsx:203:    const pG = Number(dieta?.proteinas ?? dieta?.proteina ?? NaN);
src/pages/Report.tsx:204:    const cG = Number(dieta?.carboidratos ?? dieta?.carboidrato ?? NaN);
src/pages/Report.tsx:205:    const gG = Number(dieta?.gorduras ?? dieta?.gordura ?? NaN);
src/pages/Report.tsx:210:      if (delta > 50) warn("kcal_macros", "Kcal vs macros com diferença (Δ≈" + String(delta) + " kcal)");
src/pages/Report.tsx:211:      else ok("kcal_macros", "Kcal coerente com macros");
src/pages/Report.tsx:213:      warn("kcal_macros", "Não foi possível auditar macros/kcal (dieta parcial)");
src/pages/Report.tsx:216:    return { perfil, avaliacao, metabolismo, dieta, issues };
src/pages/Report.tsx:245:                      Atividade semanal: <b className="text-white">{mfActivityWeeklyLabel(state?.metabolismo?.nivelAtividadeSemanal)}</b>
src/pages/Report.tsx:260:                  {plan?.macros?.targetKcal ? `${Math.round(plan.macros?.targetKcal)} kcal` : "—"}
src/pages/Report.tsx:263:                  {plan?.macros
src/pages/Report.tsx:264:                    ? `P ${safeRound(plan.macros?.proteinG)}g • C ${safeRound(plan.macros?.carbG)}g • G ${safeRound(plan.macros?.fatG)}g`
src/pages/Report.tsx:296:    adapted?.macros ? {
src/pages/Report.tsx:302:        macros: adapted.macros,
src/pages/Report.tsx:441:                  <p className="text-2xl font-bold text-[#1E6BFF]">{dietaAtiva.nutricao.macros.calorias}</p>
src/pages/Report.tsx:446:                  <p className="text-2xl font-bold text-red-400">{dietaAtiva.nutricao.macros.proteina}g</p>
src/pages/Report.tsx:451:                  <p className="text-2xl font-bold text-yellow-400">{dietaAtiva.nutricao.macros.carboidratos}g</p>
src/pages/Report.tsx:456:                  <p className="text-2xl font-bold text-[#1E6BFF]">{dietaAtiva.nutricao.macros.gorduras}g</p>
src/pages/Report.tsx:488:                            <span className="text-red-400">{alimento.proteinas.toFixed(1)}g P</span>
src/pages/Report.tsx:489:                            <span className="text-yellow-400">{alimento.carboidratos.toFixed(1)}g C</span>
src/pages/Report.tsx:490:                            <span className="text-[#1E6BFF]">{alimento.gorduras.toFixed(1)}g G</span>
src/pages/Report.tsx:581:        {state.metabolismo && (
src/pages/Report.tsx:592:                  <p className="text-xs text-gray-400 mb-1">TMB</p>
src/pages/Report.tsx:593:                  <p className="text-2xl font-bold text-yellow-400">{state.metabolismo.tmb}</p>
src/pages/Report.tsx:597:                  <p className="text-xs text-gray-400 mb-1">GET</p>
src/pages/Report.tsx:598:                  <p className="text-2xl font-bold text-orange-400">{state.metabolismo.get}</p>
src/pages/Report.tsx:604:                <p className="font-semibold capitalize">{state.metabolismo.equacaoUtilizada}</p>
src/pages/Report.tsx:605:                <p className="text-xs text-gray-500 mt-2">{state.metabolismo.justificativa}</p>
src/pages/Report.tsx:606:                {state.metabolismo.faixaSegura && (
src/pages/Report.tsx:610:                      <span className="px-2 py-1 rounded bg-white/5 border border-white/10">Mínimo: <b className="text-white">{state.metabolismo.faixaSegura.minimo}</b> kcal</span>
src/pages/Report.tsx:611:                      <span className="px-2 py-1 rounded bg-white/5 border border-white/10">Ideal: <b className="text-white">{state.metabolismo.faixaSegura.ideal}</b> kcal</span>
src/pages/Report.tsx:612:                      <span className="px-2 py-1 rounded bg-white/5 border border-white/10">Máximo: <b className="text-white">{state.metabolismo.faixaSegura.maximo}</b> kcal</span>
src/pages/Report.tsx:617:                        {state?.metabolismo?.ajusteBiotipoKcal ? (
src/pages/Report.tsx:618:                          <span className="text-green-400"> • ajuste +{state.metabolismo.ajusteBiotipoKcal} kcal</span>
src/pages/DashboardPremium.tsx:41:      // Adapter: normaliza nutrition para o shape do app (macros/refeicoes)
src/pages/DashboardPremium.tsx:49:  const macros = adapted?.macros ?? activePlan?.nutrition?.macros ?? null;
src/pages/DashboardPremium.tsx:192:                    {macros ? `${macros.protein ?? "—"}g P • ${macros.carbs ?? "—"}g C • ${macros.fat ?? "—"}g G` : "—"}
src/pages/DashboardPremium.tsx:331:              <div className="text-xs text-gray-500">Meta: {(state.nutricao?.macros?.calorias ?? 0)}</div>
src/services/nutrition/engine/nutritionEngine.demo.ts:15:    macros: plan.macros,
src/lib/exportar-pdf.ts:95:    __src?.metabolismo?.nivelAtividadeSemanal ??
src/lib/exportar-pdf.ts:143:    const { macros } = state.dietaAtiva.nutricao
src/lib/exportar-pdf.ts:144:    doc.text(`Calorias: ${macros.calorias} kcal/dia`, 30, yPos)
src/lib/exportar-pdf.ts:146:    doc.text(`Proteínas: ${macros.proteina}g`, 30, yPos)
src/lib/exportar-pdf.ts:148:    doc.text(`Carboidratos: ${macros.carboidratos}g`, 30, yPos)
src/lib/exportar-pdf.ts:150:    doc.text(`Gorduras: ${macros.gorduras}g`, 30, yPos)
src/lib/exportar-pdf.ts:391:    const __macros = (__adapted?.macros ?? null);
src/lib/exportar-pdf.ts:395:      !!(__macros && (
src/lib/exportar-pdf.ts:396:        Number(__macros?.proteina || 0) > 0 ||
src/lib/exportar-pdf.ts:397:        Number(__macros?.carboidratos || 0) > 0 ||
src/lib/exportar-pdf.ts:398:        Number(__macros?.gorduras || 0) > 0 ||
src/lib/exportar-pdf.ts:399:        Number(__macros?.calorias || 0) > 0
src/lib/exportar-pdf.ts:405:    // Renderiza se houver evidência real de dieta (kcal+macros ou refeições)
src/lib/exportar-pdf.ts:435:        const cal = Number(__macros?.calorias || 0);
src/lib/exportar-pdf.ts:436:        const pG = Number(__macros?.proteina || 0);
src/lib/exportar-pdf.ts:437:        const cG = Number(__macros?.carboidratos || 0);
src/lib/exportar-pdf.ts:438:        const gG = Number(__macros?.gorduras || 0);
src/components/steps/Step4Nutricao.tsx:21: * - baseKcal vem do metabolismo calculado (GET/TDEE preferencial; fallback: metaDiaria)
src/components/steps/Step4Nutricao.tsx:23: * - clamp opcional pela faixa segura (quando disponível), preservando guardrails
src/components/steps/Step4Nutricao.tsx:89:        // Mantemos genérico: Step4 costuma consolidar dados de dieta/macros/calorias
src/components/steps/Step4Nutricao.tsx:91:        metabolismo: (state as any)?.metabolismo ?? (state as any)?.resultadoMetabolico ?? undefined,
src/components/steps/Step4Nutricao.tsx:93:        macros: (state as any)?.macros ?? undefined };
src/components/steps/Step4Nutricao.tsx:168:    const calorias = state.metabolismo?.caloriasAlvo || 2000
src/components/steps/Step4Nutricao.tsx:177:    const proteina = Math.round(peso * 2) // 2g/kg
src/components/steps/Step4Nutricao.tsx:178:    const gorduras = Math.round(peso * 1) // 1g/kg
src/components/steps/Step4Nutricao.tsx:179:    const caloriasRestantes = caloriasFinais - (proteina * 4 + gorduras * 9)
src/components/steps/Step4Nutricao.tsx:180:    let carboidratos = Math.round(caloriasRestantes / 4);
src/components/steps/Step4Nutricao.tsx:182:    // MF_BLOCO4_GUARDRAILS_V2: consistência kcal ↔ macros (ajusta carboidratos mantendo proteína/gordura)
src/components/steps/Step4Nutricao.tsx:183:    const kcalFixas = (proteina * 4) + (gorduras * 9);
src/components/steps/Step4Nutricao.tsx:188:    carboidratos = mfClampSSOT(carboFix, 0, 900);
src/components/steps/Step4Nutricao.tsx:190:    const kcalFinal = mfKcalFromMacros(proteina, carboidratos, gorduras);
src/components/steps/Step4Nutricao.tsx:218:        // Café da manhã: carboidrato + fruta + proteína + gordura
src/components/steps/Step4Nutricao.tsx:258:        // Almoço/Jantar: carboidrato + proteína + legume + folhoso + gordura
src/components/steps/Step4Nutricao.tsx:260:        const proteina = isVegano
src/components/steps/Step4Nutricao.tsx:265:        const gordura = alimentosPermitidos.find(a => a.id === 'azeite')!
src/components/steps/Step4Nutricao.tsx:281:            ...calcularMacros(proteina.id, gramasProteina)!,
src/components/steps/Step4Nutricao.tsx:282:            alimentoId: proteina.id,
src/components/steps/Step4Nutricao.tsx:283:            nome: proteina.nome,
src/components/steps/Step4Nutricao.tsx:299:            ...calcularMacros(gordura.id, gramasGordura)!,
src/components/steps/Step4Nutricao.tsx:300:            alimentoId: gordura.id,
src/components/steps/Step4Nutricao.tsx:301:            nome: gordura.nome,
src/components/steps/Step4Nutricao.tsx:306:        // Lanche: fruta + proteína + gordura
src/components/steps/Step4Nutricao.tsx:308:        const proteina = isVegano
src/components/steps/Step4Nutricao.tsx:311:        const gordura = alimentosPermitidos.find(a => a.id === 'castanhas')!
src/components/steps/Step4Nutricao.tsx:325:            ...calcularMacros(proteina.id, gramasProteina)!,
src/components/steps/Step4Nutricao.tsx:326:            alimentoId: proteina.id,
src/components/steps/Step4Nutricao.tsx:327:            nome: proteina.nome,
src/components/steps/Step4Nutricao.tsx:331:            ...calcularMacros(gordura.id, gramasGordura)!,
src/components/steps/Step4Nutricao.tsx:332:            alimentoId: gordura.id,
src/components/steps/Step4Nutricao.tsx:333:            nome: gordura.nome,
src/components/steps/Step4Nutricao.tsx:338:        // Ceia: proteína leve + gordura
src/components/steps/Step4Nutricao.tsx:339:        const proteina = isVegano
src/components/steps/Step4Nutricao.tsx:349:            ...calcularMacros(proteina.id, gramasProteina)!,
src/components/steps/Step4Nutricao.tsx:350:            alimentoId: proteina.id,
src/components/steps/Step4Nutricao.tsx:351:            nome: proteina.nome,
src/components/steps/Step4Nutricao.tsx:374:      kcalAlvo: __mfKcalAlvo,
src/components/steps/Step4Nutricao.tsx:376:      macros: {
src/components/steps/Step4Nutricao.tsx:377:        proteina,
src/components/steps/Step4Nutricao.tsx:378:        gorduras,
src/components/steps/Step4Nutricao.tsx:379:        carboidratos,
src/components/steps/Step4Nutricao.tsx:406:    Number((state as any)?.metabolismo?.get ?? (state as any)?.metabolismo?.GET ?? (state as any)?.metabolismo?.tdee ?? (state as any)?.metabolismo?.metaDiaria ?? 0);
src/components/steps/Step4Nutricao.tsx:415:  const __mfFaixa = (state as any)?.metabolismo?.faixaSegura
src/components/steps/Step4Nutricao.tsx:416:    ? { minimo: Number((state as any)?.metabolismo?.faixaSegura?.minimo), maximo: Number((state as any)?.metabolismo?.faixaSegura?.maximo) }
src/components/steps/Step4Nutricao.tsx:429:            O sistema usa seu gasto diário e objetivo para definir calorias e macros de forma coerente.
src/components/steps/Step4Nutricao.tsx:451:            {/* MF_BLOCO4_UX: aderência + guardrails (premium) */}
src/components/steps/Step4Nutricao.tsx:455:                Nós fechamos suas calorias com macros consistentes e aplicamos limites de segurança para evitar extremos
src/components/steps/Step4Nutricao.tsx:456:                (proteína e gordura mínimas/máximas). Isso melhora aderência, energia e sustentabilidade.
src/components/steps/Step4Nutricao.tsx:483:          <CardDescription className="text-sm">Como ajustar suas calorias com segurança <span className="text-xs text-muted-foreground">• Guardrails premium: macros consistentes e faixa segura.</span></CardDescription>
src/components/steps/Step4Nutricao.tsx:566:          <CardTitle className="text-lg sm:text-xl">Prévia de macros</CardTitle>
src/components/steps/Step4Nutricao.tsx:581:              <p className="text-xl sm:text-2xl font-bold text-white">~{Math.round(((state.metabolismo?.caloriasAlvo || 2000) - ((state.avaliacao?.peso || 70) * 2 * 4 + (state.avaliacao?.peso || 70) * 1 * 9)) / 4)}g</p>
src/services/plan/activePlanNutrition.writer.ts:39:      kcalTarget: plan.macros.kcal,
src/services/plan/activePlanNutrition.writer.ts:40:      macros: {
src/services/plan/activePlanNutrition.writer.ts:41:        kcal: plan.macros.kcal,
src/services/plan/activePlanNutrition.writer.ts:42:        proteina_g: plan.macros.proteina_g,
src/services/plan/activePlanNutrition.writer.ts:43:        carbo_g: plan.macros.carbo_g,
src/services/plan/activePlanNutrition.writer.ts:44:        gordura_g: plan.macros.gordura_g,
src/services/plan/activePlanNutrition.writer.ts:45:        fibras_g: plan.macros.fibras_g,
src/engine/nutrition/NutritionEngine.ts:19: * - gordura: 0.8g/kg base (ajusta levemente por preferência)
src/engine/nutrition/NutritionEngine.ts:48:export function buildMealPlan(targetKcal: number, macros: Macros): Meal[] {
src/engine/nutrition/NutritionEngine.ts:58:      proteinG: Math.round(macros.proteinG * pct),
src/engine/nutrition/NutritionEngine.ts:59:      carbsG: Math.round(macros.carbsG * pct),
src/engine/nutrition/NutritionEngine.ts:60:      fatG: Math.round(macros.fatG * pct),
src/engine/nutrition/NutritionEngine.ts:69:  proteinas: number;
src/engine/nutrition/NutritionEngine.ts:70:  carboidratos: number;
src/engine/nutrition/NutritionEngine.ts:71:  gorduras: number;
src/engine/nutrition/NutritionEngine.ts:76:  proteinas: number;
src/engine/nutrition/NutritionEngine.ts:77:  carboidratos: number;
src/engine/nutrition/NutritionEngine.ts:78:  gorduras: number;
src/engine/nutrition/NutritionEngine.ts:85:export function scaleMacrosPer100g(macrosPor100g: MacrosPer100g, gramas: number): MacroTotals {
src/engine/nutrition/NutritionEngine.ts:88:    calorias: Math.round(macrosPor100g.calorias * fator),
src/engine/nutrition/NutritionEngine.ts:89:    proteinas: mfRound1(macrosPor100g.proteinas * fator),
src/engine/nutrition/NutritionEngine.ts:90:    carboidratos: mfRound1(macrosPor100g.carboidratos * fator),
src/engine/nutrition/NutritionEngine.ts:91:    gorduras: mfRound1(macrosPor100g.gorduras * fator),
src/engine/nutrition/NutritionEngine.ts:97:/** Phase 3C — soma macros do DIA (todas as refeições) */
src/engine/nutrition/NutritionEngine.ts:99:  const out: MacroTotals = { calorias: 0, proteinas: 0, carboidratos: 0, gorduras: 0 };
src/engine/nutrition/NutritionEngine.ts:103:    out.proteinas += Number(t.proteinas) || 0;
src/engine/nutrition/NutritionEngine.ts:104:    out.carboidratos += Number(t.carboidratos) || 0;
src/engine/nutrition/NutritionEngine.ts:105:    out.gorduras += Number(t.gorduras) || 0;
src/engine/nutrition/NutritionEngine.ts:108:  out.proteinas = Number(out.proteinas.toFixed(1));
src/engine/nutrition/NutritionEngine.ts:109:  out.carboidratos = Number(out.carboidratos.toFixed(1));
src/engine/nutrition/NutritionEngine.ts:110:  out.gorduras = Number(out.gorduras.toFixed(1));
src/engine/nutrition/NutritionEngine.ts:156:  alimentos: Array<{ calorias: number; proteinas: number; carboidratos: number; gorduras: number; }>
src/engine/nutrition/NutritionEngine.ts:161:      acc.proteinas += Number(a.proteinas || 0);
src/engine/nutrition/NutritionEngine.ts:162:      acc.carboidratos += Number(a.carboidratos || 0);
src/engine/nutrition/NutritionEngine.ts:163:      acc.gorduras += Number(a.gorduras || 0);
src/engine/nutrition/NutritionEngine.ts:166:    { calorias: 0, proteinas: 0, carboidratos: 0, gorduras: 0 }
src/engine/nutrition/NutritionEngine.ts:192:  const macrosTarget = nutricao.macros ?? {};
src/engine/nutrition/NutritionEngine.ts:193:  const kcalTarget = macrosTarget.calorias;
src/engine/nutrition/NutritionEngine.ts:204:    `Proteínas: ${totals.proteinas.toFixed(1)} g`,
src/engine/nutrition/NutritionEngine.ts:205:    `Carboidratos: ${totals.carboidratos.toFixed(1)} g`,
src/engine/nutrition/NutritionEngine.ts:206:    `Gorduras: ${totals.gorduras.toFixed(1)} g`,
src/engine/nutrition/NutritionEngine.ts:234:        `  Totais: ${refeicaoTotals.calorias} kcal | P ${refeicaoTotals.proteinas.toFixed(1)}g | C ${refeicaoTotals.carboidratos.toFixed(1)}g | G ${refeicaoTotals.gorduras.toFixed(1)}g`
src/engine/nutrition/NutritionEngine.ts:242:      const p = a?.proteina != null ? `P ${Number(a.proteina).toFixed(1)}g` : "";
src/engine/nutrition/NutritionEngine.ts:243:      const c = a?.carboidratos != null ? `C ${Number(a.carboidratos).toFixed(1)}g` : "";
src/engine/nutrition/NutritionEngine.ts:244:      const f = a?.gorduras != null ? `G ${Number(a.gorduras).toFixed(1)}g` : "";
src/engine/nutrition/NutritionEngine.ts:294:  lines.push(`Meta (kcal): ${nutricao?.macros?.calorias ?? "—"}`);
src/engine/nutrition/NutritionEngine.ts:295:  lines.push(`P: ${nutricao?.macros?.proteina ?? "—"} g | C: ${nutricao?.macros?.carboidratos ?? "—"} g | G: ${nutricao?.macros?.gorduras ?? "—"} g`);
src/components/steps/Step2Avaliacao.tsx:270:            Essas medidas ajudam a estimar composição corporal e o padrão de distribuição de gordura.
src/components/steps/Step2Avaliacao.tsx:301:                <CardDescription>Esse dado melhora a precisão do GET (gasto energético total diário).</CardDescription>
src/services/nutrition/energyEquations.ts:6: * - Mifflin-St Jeor (1990)   -> clínica padrão ouro
src/services/nutrition/energyEquations.ts:7: * - Cunningham (1980)       -> atleta + massa magra alta
src/services/nutrition/energyEquations.ts:8: * - Katch-McArdle (1996)    -> composição corporal (% gordura)
src/services/nutrition/energyEquations.ts:9: * - FAO/WHO/UNU (2004)      -> fallback populacional
src/services/nutrition/energyEquations.ts:25:  | "FAO_WHO_UNU_2004";
src/services/nutrition/energyEquations.ts:51: * 1) Atleta + FFM → Cunningham
src/services/nutrition/energyEquations.ts:53: * 3) Sobrepeso/obesidade → Mifflin
src/services/nutrition/energyEquations.ts:54: * 4) Sem dados → FAO fallback
src/services/nutrition/energyEquations.ts:69:  return "FAO_WHO_UNU_2004";
src/services/nutrition/energyEquations.ts:100:    case "FAO_WHO_UNU_2004":
src/services/ssot/getActivePlanNormalized.ts:47:  const macros = pickFirst(
src/services/ssot/getActivePlanNormalized.ts:48:    p.macros,
src/services/ssot/getActivePlanNormalized.ts:49:    nutrition?.macros,
src/services/ssot/getActivePlanNormalized.ts:50:    p.nutricao?.macros
src/services/ssot/getActivePlanNormalized.ts:57:    macros?.kcal
src/services/ssot/getActivePlanNormalized.ts:75:    macros: macros || null,
src/services/ssot/getActivePlanNormalized.ts:83:    macros: macros || null,
src/components/steps/Step8Relatorio.tsx:31:            avaliação corporal, metabolismo e rotina. Revise com calma — esse é o seu ponto de partida para as próximas 4–6 semanas.
src/components/steps/Step8Relatorio.tsx:108:          <CardDescription>Equação aplicada: {state.metabolismo?.equacaoUtilizada}</CardDescription>
src/components/steps/Step8Relatorio.tsx:109:            <CardDescription>Atividade semanal: <span className="font-medium">{String(state.metabolismo?.nivelAtividadeSemanal || "—")}</span></CardDescription>
src/components/steps/Step8Relatorio.tsx:114:              <p className="text-sm text-muted-foreground">TMB</p>
src/components/steps/Step8Relatorio.tsx:115:              <p className="text-xl font-bold text-[#1E6BFF]">{state.metabolismo?.tmb} kcal</p>
src/components/steps/Step8Relatorio.tsx:118:              <p className="text-sm text-muted-foreground">GET</p>
src/components/steps/Step8Relatorio.tsx:119:              <p className="text-xl font-bold text-[#1E6BFF]">{state.metabolismo?.get} kcal</p>
src/components/steps/Step8Relatorio.tsx:123:              <p className="text-xl font-bold text-green-600">{state.metabolismo?.caloriasAlvo} kcal</p>
src/components/steps/Step8Relatorio.tsx:126:          <p className="text-sm text-muted-foreground italic">{state.metabolismo?.justificativa}</p>
src/components/steps/Step8Relatorio.tsx:140:              <p className="text-xl font-bold text-[#1E6BFF]">{state.nutricao?.macros.proteina}g</p>
src/components/steps/Step8Relatorio.tsx:144:              <p className="text-xl font-bold text-yellow-600">{state.nutricao?.macros.gorduras}g</p>
src/components/steps/Step8Relatorio.tsx:148:              <p className="text-xl font-bold text-green-600">{state.nutricao?.macros.carboidratos}g</p>
src/utils/geradorDieta.ts:7:  caloriasAlvo: number
src/utils/geradorDieta.ts:45:  let calorias = dados.caloriasAlvo
src/utils/geradorDieta.ts:46:  if (dados.estrategia === 'deficit-leve') calorias = dados.caloriasAlvo * 0.9
src/utils/geradorDieta.ts:47:  if (dados.estrategia === 'deficit-moderado') calorias = dados.caloriasAlvo * 0.8
src/utils/geradorDieta.ts:48:  if (dados.estrategia === 'deficit-agressivo') calorias = dados.caloriasAlvo * 0.75
src/utils/geradorDieta.ts:49:  if (dados.estrategia === 'superavit') calorias = dados.caloriasAlvo * 1.15
src/utils/geradorDieta.ts:52:  const proteina = Math.round(dados.peso * 2.2) // 2.2g/kg
src/utils/geradorDieta.ts:53:  const gorduras = Math.round(dados.peso * 1) // 1g/kg
src/utils/geradorDieta.ts:54:  const caloriasRestantes = calorias - (proteina * 4 + gorduras * 9)
src/utils/geradorDieta.ts:55:  const carboidratos = Math.round(caloriasRestantes / 4)
src/utils/geradorDieta.ts:58:    proteina,
src/utils/geradorDieta.ts:59:    gorduras,
src/utils/geradorDieta.ts:60:    carboidratos,
src/utils/geradorDieta.ts:100:    alimentosFiltrados = alimentosFiltrados.filter(a => a.categoria !== 'proteina' || a.id.startsWith('whey') === false)
src/utils/geradorDieta.ts:116:    proteinas: Math.round(alimento.proteinas * fator * 10) / 10,
src/utils/geradorDieta.ts:117:    carboidratos: Math.round(alimento.carboidratos * fator * 10) / 10,
src/utils/geradorDieta.ts:118:    gorduras: Math.round(alimento.gorduras * fator * 10) / 10
src/utils/geradorDieta.ts:123:  const macros = calcularMacros(dados)
src/utils/geradorDieta.ts:229:    macros,
src/components/steps/Step1Perfil.tsx:122:            Esses dados calibram as estimativas iniciais (metabolismo, gasto diário e distribuição de macros).
src/components/steps/Step1Perfil.tsx:138:          <CardDescription>Usamos isso para estimar metabolismo, definir metas e personalizar treino + nutrição nas próximas etapas.</CardDescription>
src/data/alimentos-taco-completo.ts:11: * - Todos os macros são por 100g do alimento
src/data/alimentos-taco-completo.ts:20:  proteina_g: number | 'NA' | 'Tr'
src/data/alimentos-taco-completo.ts:23:  carboidrato_g: number | 'NA' | 'Tr'
src/data/alimentos-taco-completo.ts:30:  { id: 'arroz_integral_cozido', codigo: 1, nome: 'Arroz, integral, cozido', categoria: 'Cereais e derivados', energia_kcal: 124, proteina_g: 2.6, lipideos_g: 1.0, colesterol_mg: 'NA', carboidrato_g: 25.8, fibra_g: 2.7, grupoSubstituicao: 'carboidrato_integral' },
src/data/alimentos-taco-completo.ts:31:  { id: 'arroz_integral_cru', codigo: 2, nome: 'Arroz, integral, cru', categoria: 'Cereais e derivados', energia_kcal: 360, proteina_g: 7.3, lipideos_g: 1.9, colesterol_mg: 'NA', carboidrato_g: 77.5, fibra_g: 4.8, grupoSubstituicao: 'carboidrato_integral' },
src/data/alimentos-taco-completo.ts:32:  { id: 'arroz_tipo1_cozido', codigo: 3, nome: 'Arroz, tipo 1, cozido', categoria: 'Cereais e derivados', energia_kcal: 128, proteina_g: 2.5, lipideos_g: 0.2, colesterol_mg: 'NA', carboidrato_g: 28.1, fibra_g: 1.6, grupoSubstituicao: 'carboidrato_refinado' },
src/data/alimentos-taco-completo.ts:33:  { id: 'arroz_tipo1_cru', codigo: 4, nome: 'Arroz, tipo 1, cru', categoria: 'Cereais e derivados', energia_kcal: 358, proteina_g: 7.2, lipideos_g: 0.3, colesterol_mg: 'NA', carboidrato_g: 78.8, fibra_g: 1.6, grupoSubstituicao: 'carboidrato_refinado' },
src/data/alimentos-taco-completo.ts:34:  { id: 'arroz_tipo2_cozido', codigo: 5, nome: 'Arroz, tipo 2, cozido', categoria: 'Cereais e derivados', energia_kcal: 130, proteina_g: 2.6, lipideos_g: 0.4, colesterol_mg: 'NA', carboidrato_g: 28.2, fibra_g: 1.1, grupoSubstituicao: 'carboidrato_refinado' },
src/data/alimentos-taco-completo.ts:35:  { id: 'arroz_tipo2_cru', codigo: 6, nome: 'Arroz, tipo 2, cru', categoria: 'Cereais e derivados', energia_kcal: 358, proteina_g: 7.2, lipideos_g: 0.3, colesterol_mg: 'NA', carboidrato_g: 78.9, fibra_g: 1.7, grupoSubstituicao: 'carboidrato_refinado' },
src/data/alimentos-taco-completo.ts:36:  { id: 'aveia_flocos_crua', codigo: 7, nome: 'Aveia, flocos, crua', categoria: 'Cereais e derivados', energia_kcal: 394, proteina_g: 13.9, lipideos_g: 8.5, colesterol_mg: 'NA', carboidrato_g: 66.6, fibra_g: 9.1, grupoSubstituicao: 'cereal_integral' },
src/data/alimentos-taco-completo.ts:37:  { id: 'macarrao_trigo_cru', codigo: 40, nome: 'Macarrão, trigo, cru', categoria: 'Cereais e derivados', energia_kcal: 371, proteina_g: 10.0, lipideos_g: 1.3, colesterol_mg: 'NA', carboidrato_g: 77.9, fibra_g: 2.9, grupoSubstituicao: 'massa' },
src/data/alimentos-taco-completo.ts:38:  { id: 'macarrao_trigo_ovos_cru', codigo: 41, nome: 'Macarrão, trigo, cru, com ovos', categoria: 'Cereais e derivados', energia_kcal: 371, proteina_g: 10.3, lipideos_g: 2.0, colesterol_mg: 18, carboidrato_g: 76.6, fibra_g: 2.3, grupoSubstituicao: 'massa' },
src/data/alimentos-taco-completo.ts:39:  { id: 'pao_integral_forma', codigo: 52, nome: 'Pão, trigo, forma, integral', categoria: 'Cereais e derivados', energia_kcal: 253, proteina_g: 9.4, lipideos_g: 3.7, colesterol_mg: 'NA', carboidrato_g: 49.9, fibra_g: 6.9, grupoSubstituicao: 'pao_integral' },
src/data/alimentos-taco-completo.ts:40:  { id: 'pao_frances', codigo: 53, nome: 'Pão, trigo, francês', categoria: 'Cereais e derivados', energia_kcal: 300, proteina_g: 8.0, lipideos_g: 3.1, colesterol_mg: 'NA', carboidrato_g: 58.6, fibra_g: 2.3, grupoSubstituicao: 'pao_refinado' },
src/data/alimentos-taco-completo.ts:43:  { id: 'abobora_cabotian_cozida', codigo: 64, nome: 'Abóbora, cabotian, cozida', categoria: 'Verduras, hortaliças e derivados', energia_kcal: 48, proteina_g: 1.4, lipideos_g: 0.7, colesterol_mg: 'NA', carboidrato_g: 10.8, fibra_g: 2.5, grupoSubstituicao: 'vegetal_cozido' },
src/data/alimentos-taco-completo.ts:44:  { id: 'abobora_cabotian_crua', codigo: 65, nome: 'Abóbora, cabotian, crua', categoria: 'Verduras, hortaliças e derivados', energia_kcal: 39, proteina_g: 1.7, lipideos_g: 0.5, colesterol_mg: 'NA', carboidrato_g: 8.4, fibra_g: 2.2, grupoSubstituicao: 'vegetal_cru' },
src/data/alimentos-taco-completo.ts:45:  { id: 'abobrinha_italiana_cozida', codigo: 70, nome: 'Abobrinha, italiana, cozida', categoria: 'Verduras, hortaliças e derivados', energia_kcal: 15, proteina_g: 1.1, lipideos_g: 0.2, colesterol_mg: 'NA', carboidrato_g: 3.0, fibra_g: 1.6, grupoSubstituicao: 'vegetal_baixo_carb' },
src/data/alimentos-taco-completo.ts:46:  { id: 'abobrinha_italiana_crua', codigo: 71, nome: 'Abobrinha, italiana, crua', categoria: 'Verduras, hortaliças e derivados', energia_kcal: 19, proteina_g: 1.1, lipideos_g: 0.1, colesterol_mg: 'NA', carboidrato_g: 4.3, fibra_g: 1.4, grupoSubstituicao: 'vegetal_baixo_carb' },
src/data/alimentos-taco-completo.ts:47:  { id: 'alface_americana_crua', codigo: 77, nome: 'Alface, americana, crua', categoria: 'Verduras, hortaliças e derivados', energia_kcal: 9, proteina_g: 0.6, lipideos_g: 0.1, colesterol_mg: 'NA', carboidrato_g: 1.7, fibra_g: 1.0, grupoSubstituicao: 'folha_verde' },
src/data/alimentos-taco-completo.ts:48:  { id: 'alface_crespa_crua', codigo: 78, nome: 'Alface, crespa, crua', categoria: 'Verduras, hortaliças e derivados', energia_kcal: 11, proteina_g: 1.3, lipideos_g: 0.2, colesterol_mg: 'NA', carboidrato_g: 1.7, fibra_g: 1.8, grupoSubstituicao: 'folha_verde' },
src/data/alimentos-taco-completo.ts:49:  { id: 'alface_roxa_crua', codigo: 80, nome: 'Alface, roxa, crua', categoria: 'Verduras, hortaliças e derivados', energia_kcal: 13, proteina_g: 0.9, lipideos_g: 0.2, colesterol_mg: 'NA', carboidrato_g: 2.5, fibra_g: 2.0, grupoSubstituicao: 'folha_verde' },
src/data/alimentos-taco-completo.ts:50:  { id: 'brocolis_cozido', codigo: 100, nome: 'Brócolis, cozido', categoria: 'Verduras, hortaliças e derivados', energia_kcal: 25, proteina_g: 2.1, lipideos_g: 0.5, colesterol_mg: 'NA', carboidrato_g: 4.4, fibra_g: 3.4, grupoSubstituicao: 'vegetal_crucifero' },
src/data/alimentos-taco-completo.ts:51:  { id: 'brocolis_cru', codigo: 101, nome: 'Brócolis, cru', categoria: 'Verduras, hortaliças e derivados', energia_kcal: 25, proteina_g: 3.6, lipideos_g: 0.3, colesterol_mg: 'NA', carboidrato_g: 4.0, fibra_g: 2.9, grupoSubstituicao: 'vegetal_crucifero' },
src/data/alimentos-taco-completo.ts:52:  { id: 'batata_doce_cozida', codigo: 88, nome: 'Batata, doce, cozida', categoria: 'Verduras, hortaliças e derivados', energia_kcal: 77, proteina_g: 0.6, lipideos_g: 0.1, colesterol_mg: 'NA', carboidrato_g: 18.4, fibra_g: 2.2, grupoSubstituicao: 'tuberculo' },
src/data/alimentos-taco-completo.ts:53:  { id: 'batata_doce_crua', codigo: 89, nome: 'Batata, doce, crua', categoria: 'Verduras, hortaliças e derivados', energia_kcal: 118, proteina_g: 1.3, lipideos_g: 0.1, colesterol_mg: 'NA', carboidrato_g: 28.2, fibra_g: 2.6, grupoSubstituicao: 'tuberculo' },
src/data/alimentos-taco-completo.ts:54:  { id: 'batata_inglesa_cozida', codigo: 91, nome: 'Batata, inglesa, cozida', categoria: 'Verduras, hortaliças e derivados', energia_kcal: 52, proteina_g: 1.2, lipideos_g: 'Tr', colesterol_mg: 'NA', carboidrato_g: 11.9, fibra_g: 1.3, grupoSubstituicao: 'tuberculo' },
src/data/alimentos-taco-completo.ts:55:  { id: 'batata_inglesa_crua', codigo: 92, nome: 'Batata, inglesa, crua', categoria: 'Verduras, hortaliças e derivados', energia_kcal: 64, proteina_g: 1.8, lipideos_g: 'Tr', colesterol_mg: 'NA', carboidrato_g: 14.7, fibra_g: 1.2, grupoSubstituicao: 'tuberculo' },
src/data/alimentos-taco-completo.ts:56:  { id: 'berinjela_cozida', codigo: 95, nome: 'Berinjela, cozida', categoria: 'Verduras, hortaliças e derivados', energia_kcal: 19, proteina_g: 0.7, lipideos_g: 0.1, colesterol_mg: 'NA', carboidrato_g: 4.5, fibra_g: 2.5, grupoSubstituicao: 'vegetal_baixo_carb' },
src/data/alimentos-taco-completo.ts:57:  { id: 'cenoura_cozida', codigo: 109, nome: 'Cenoura, cozida', categoria: 'Verduras, hortaliças e derivados', energia_kcal: 30, proteina_g: 0.8, lipideos_g: 0.2, colesterol_mg: 'NA', carboidrato_g: 6.7, fibra_g: 2.6, grupoSubstituicao: 'vegetal_raiz' },
src/data/alimentos-taco-completo.ts:58:  { id: 'cenoura_crua', codigo: 110, nome: 'Cenoura, crua', categoria: 'Verduras, hortaliças e derivados', energia_kcal: 34, proteina_g: 1.3, lipideos_g: 0.2, colesterol_mg: 'NA', carboidrato_g: 7.7, fibra_g: 3.2, grupoSubstituicao: 'vegetal_raiz' },
src/data/alimentos-taco-completo.ts:59:  { id: 'chuchu_cozido', codigo: 112, nome: 'Chuchu, cozido', categoria: 'Verduras, hortaliças e derivados', energia_kcal: 19, proteina_g: 0.4, lipideos_g: 'Tr', colesterol_mg: 'NA', carboidrato_g: 4.8, fibra_g: 1.0, grupoSubstituicao: 'vegetal_baixo_carb' },
src/data/alimentos-taco-completo.ts:60:  { id: 'couve_flor_cozida', codigo: 118, nome: 'Couve-flor, cozida', categoria: 'Verduras, hortaliças e derivados', energia_kcal: 19, proteina_g: 1.2, lipideos_g: 0.3, colesterol_mg: 'NA', carboidrato_g: 3.9, fibra_g: 2.1, grupoSubstituicao: 'vegetal_crucifero' },
src/data/alimentos-taco-completo.ts:61:  { id: 'espinafre_nova_zelandia_cru', codigo: 119, nome: 'Espinafre, Nova Zelândia, cru', categoria: 'Verduras, hortaliças e derivados', energia_kcal: 16, proteina_g: 2.0, lipideos_g: 0.2, colesterol_mg: 'NA', carboidrato_g: 2.6, fibra_g: 2.1, grupoSubstituicao: 'folha_verde_escura' },
src/data/alimentos-taco-completo.ts:62:  { id: 'mandioca_cozida', codigo: 129, nome: 'Mandioca, cozida', categoria: 'Verduras, hortaliças e derivados', energia_kcal: 125, proteina_g: 0.6, lipideos_g: 0.3, colesterol_mg: 'NA', carboidrato_g: 30.1, fibra_g: 1.6, grupoSubstituicao: 'tuberculo' },
src/data/alimentos-taco-completo.ts:63:  { id: 'tomate_com_semente_cru', codigo: 157, nome: 'Tomate, com semente, cru', categoria: 'Verduras, hortaliças e derivados', energia_kcal: 15, proteina_g: 1.1, lipideos_g: 0.2, colesterol_mg: 'NA', carboidrato_g: 3.1, fibra_g: 1.2, grupoSubstituicao: 'vegetal_fruto' },
src/data/alimentos-taco-completo.ts:66:  { id: 'abacate_cru', codigo: 163, nome: 'Abacate, cru', categoria: 'Frutas e derivados', energia_kcal: 96, proteina_g: 1.2, lipideos_g: 8.4, colesterol_mg: 'NA', carboidrato_g: 6.0, fibra_g: 6.3, grupoSubstituicao: 'fruta_gordura' },
src/data/alimentos-taco-completo.ts:67:  { id: 'abacaxi_cru', codigo: 164, nome: 'Abacaxi, cru', categoria: 'Frutas e derivados', energia_kcal: 48, proteina_g: 0.9, lipideos_g: 0.1, colesterol_mg: 'NA', carboidrato_g: 12.3, fibra_g: 1.0, grupoSubstituicao: 'fruta_tropical' },
src/data/alimentos-taco-completo.ts:68:  { id: 'banana_nanica_crua', codigo: 179, nome: 'Banana, nanica, crua', categoria: 'Frutas e derivados', energia_kcal: 92, proteina_g: 1.4, lipideos_g: 0.1, colesterol_mg: 'NA', carboidrato_g: 23.8, fibra_g: 1.9, grupoSubstituicao: 'fruta_energetica' },
src/data/alimentos-taco-completo.ts:69:  { id: 'banana_prata_crua', codigo: 182, nome: 'Banana, prata, crua', categoria: 'Frutas e derivados', energia_kcal: 98, proteina_g: 1.3, lipideos_g: 0.1, colesterol_mg: 'NA', carboidrato_g: 26.0, fibra_g: 2.0, grupoSubstituicao: 'fruta_energetica' },
src/data/alimentos-taco-completo.ts:70:  { id: 'laranja_baia_crua', codigo: 208, nome: 'Laranja, baía, crua', categoria: 'Frutas e derivados', energia_kcal: 45, proteina_g: 1.0, lipideos_g: 0.1, colesterol_mg: 'NA', carboidrato_g: 11.5, fibra_g: 1.1, grupoSubstituicao: 'fruta_citrica' },
src/data/alimentos-taco-completo.ts:71:  { id: 'maca_fuji_com_casca', codigo: 222, nome: 'Maçã, Fuji, com casca, crua', categoria: 'Frutas e derivados', energia_kcal: 56, proteina_g: 0.3, lipideos_g: 'Tr', colesterol_mg: 'NA', carboidrato_g: 15.2, fibra_g: 1.3, grupoSubstituicao: 'fruta_temperada' },
src/data/alimentos-taco-completo.ts:72:  { id: 'mamao_papaia_cru', codigo: 226, nome: 'Mamão, Papaia, cru', categoria: 'Frutas e derivados', energia_kcal: 40, proteina_g: 0.5, lipideos_g: 0.1, colesterol_mg: 'NA', carboidrato_g: 10.4, fibra_g: 1.0, grupoSubstituicao: 'fruta_tropical' },
src/data/alimentos-taco-completo.ts:73:  { id: 'melancia_crua', codigo: 235, nome: 'Melancia, crua', categoria: 'Frutas e derivados', energia_kcal: 33, proteina_g: 0.9, lipideos_g: 'Tr', colesterol_mg: 'NA', carboidrato_g: 8.1, fibra_g: 0.1, grupoSubstituicao: 'fruta_baixo_cal' },
src/data/alimentos-taco-completo.ts:74:  { id: 'morango_cru', codigo: 239, nome: 'Morango, cru', categoria: 'Frutas e derivados', energia_kcal: 30, proteina_g: 0.9, lipideos_g: 0.3, colesterol_mg: 'NA', carboidrato_g: 6.8, fibra_g: 1.7, grupoSubstituicao: 'fruta_vermelha' },
src/data/alimentos-taco-completo.ts:77:  { id: 'frango_peito_sem_pele_cozido', codigo: 408, nome: 'Frango, peito, sem pele, cozido', categoria: 'Carnes e derivados', energia_kcal: 163, proteina_g: 31.5, lipideos_g: 3.2, colesterol_mg: 89, carboidrato_g: 0.0, fibra_g: 'NA', grupoSubstituicao: 'proteina_magra' },
src/data/alimentos-taco-completo.ts:78:  { id: 'frango_peito_sem_pele_cru', codigo: 409, nome: 'Frango, peito, sem pele, cru', categoria: 'Carnes e derivados', energia_kcal: 119, proteina_g: 21.5, lipideos_g: 3.0, colesterol_mg: 59, carboidrato_g: 0.0, fibra_g: 'NA', grupoSubstituicao: 'proteina_magra' },
src/data/alimentos-taco-completo.ts:79:  { id: 'frango_peito_sem_pele_grelhado', codigo: 410, nome: 'Frango, peito, sem pele, grelhado', categoria: 'Carnes e derivados', energia_kcal: 159, proteina_g: 32.0, lipideos_g: 2.5, colesterol_mg: 89, carboidrato_g: 0.0, fibra_g: 'NA', grupoSubstituicao: 'proteina_magra' },
src/data/alimentos-taco-completo.ts:80:  { id: 'frango_coxa_sem_pele_cozida', codigo: 398, nome: 'Frango, coxa, sem pele, cozida', categoria: 'Carnes e derivados', energia_kcal: 167, proteina_g: 26.9, lipideos_g: 5.8, colesterol_mg: 133, carboidrato_g: 0.0, fibra_g: 'NA', grupoSubstituicao: 'proteina_moderada' },
src/data/alimentos-taco-completo.ts:81:  { id: 'carne_bovina_patinho_cru', codigo: 376, nome: 'Carne, bovina, patinho, sem gordura, cru', categoria: 'Carnes e derivados', energia_kcal: 133, proteina_g: 21.7, lipideos_g: 4.5, colesterol_mg: 56, carboidrato_g: 0.0, fibra_g: 'NA', grupoSubstituicao: 'carne_vermelha_magra' },
src/data/alimentos-taco-completo.ts:82:  { id: 'carne_bovina_patinho_grelhado', codigo: 377, nome: 'Carne, bovina, patinho, sem gordura, grelhado', categoria: 'Carnes e derivados', energia_kcal: 219, proteina_g: 35.9, lipideos_g: 7.3, colesterol_mg: 126, carboidrato_g: 0.0, fibra_g: 'NA', grupoSubstituicao: 'carne_vermelha_magra' },
src/data/alimentos-taco-completo.ts:83:  { id: 'carne_bovina_alcatra_cru', codigo: 369, nome: 'Carne, bovina, miolo de alcatra, sem gordura, cru', categoria: 'Carnes e derivados', energia_kcal: 163, proteina_g: 21.6, lipideos_g: 7.8, colesterol_mg: 60, carboidrato_g: 0.0, fibra_g: 'NA', grupoSubstituicao: 'carne_vermelha_magra' },
src/data/alimentos-taco-completo.ts:84:  { id: 'carne_bovina_file_mignon_cru', codigo: 357, nome: 'Carne, bovina, filé mingnon, sem gordura, cru', categoria: 'Carnes e derivados', energia_kcal: 143, proteina_g: 21.6, lipideos_g: 5.6, colesterol_mg: 55, carboidrato_g: 0.0, fibra_g: 'NA', grupoSubstituicao: 'carne_vermelha_magra' },
src/data/alimentos-taco-completo.ts:85:  { id: 'peru_congelado_assado', codigo: 425, nome: 'Peru, congelado, assado', categoria: 'Carnes e derivados', energia_kcal: 163, proteina_g: 26.2, lipideos_g: 5.7, colesterol_mg: 91, carboidrato_g: 0.0, fibra_g: 'NA', grupoSubstituicao: 'proteina_magra' },
src/data/alimentos-taco-completo.ts:86:  { id: 'peru_congelado_cru', codigo: 426, nome: 'Peru, congelado, cru', categoria: 'Carnes e derivados', energia_kcal: 94, proteina_g: 18.1, lipideos_g: 1.8, colesterol_mg: 68, carboidrato_g: 0.0, fibra_g: 'NA', grupoSubstituicao: 'proteina_magra' },
src/data/alimentos-taco-completo.ts:89:  { id: 'tilapia_file_cru', codigo: 322, nome: 'Tilápia, filé, congelado, cru', categoria: 'Pescados e frutos do mar', energia_kcal: 88, proteina_g: 18.0, lipideos_g: 1.2, colesterol_mg: 47, carboidrato_g: 0.0, fibra_g: 'NA', grupoSubstituicao: 'peixe_magro' },
src/data/alimentos-taco-completo.ts:90:  { id: 'salmao_sem_pele_cru', codigo: 316, nome: 'Salmão, sem pele, fresco, cru', categoria: 'Pescados e frutos do mar', energia_kcal: 170, proteina_g: 19.3, lipideos_g: 9.7, colesterol_mg: 53, carboidrato_g: 0.0, fibra_g: 'NA', grupoSubstituicao: 'peixe_gorduroso' },
src/data/alimentos-taco-completo.ts:91:  { id: 'salmao_sem_pele_grelhado', codigo: 317, nome: 'Salmão, sem pele, fresco, grelhado', categoria: 'Pescados e frutos do mar', energia_kcal: 243, proteina_g: 26.1, lipideos_g: 14.5, colesterol_mg: 73, carboidrato_g: 0.0, fibra_g: 'NA', grupoSubstituicao: 'peixe_gorduroso' },
src/data/alimentos-taco-completo.ts:92:  { id: 'atum_conserva_oleo', codigo: 277, nome: 'Atum, conserva em óleo', categoria: 'Pescados e frutos do mar', energia_kcal: 166, proteina_g: 26.2, lipideos_g: 6.0, colesterol_mg: 53, carboidrato_g: 0.0, fibra_g: 'NA', grupoSubstituicao: 'peixe_conserva' },
src/data/alimentos-taco-completo.ts:93:  { id: 'atum_fresco_cru', codigo: 278, nome: 'Atum, fresco, cru', categoria: 'Pescados e frutos do mar', energia_kcal: 118, proteina_g: 25.7, lipideos_g: 0.9, colesterol_mg: 48, carboidrato_g: 0.0, fibra_g: 'NA', grupoSubstituicao: 'peixe_magro' },
src/data/alimentos-taco-completo.ts:94:  { id: 'sardinha_conserva_oleo', codigo: 319, nome: 'Sardinha, conserva em óleo', categoria: 'Pescados e frutos do mar', energia_kcal: 285, proteina_g: 15.9, lipideos_g: 24.0, colesterol_mg: 73, carboidrato_g: 0.0, fibra_g: 'NA', grupoSubstituicao: 'peixe_conserva' },
src/data/alimentos-taco-completo.ts:97:  { id: 'ovo_galinha_inteiro_cozido', codigo: 488, nome: 'Ovo, de galinha, inteiro, cozido/10minutos', categoria: 'Ovos e derivados', energia_kcal: 146, proteina_g: 13.3, lipideos_g: 9.5, colesterol_mg: 397, carboidrato_g: 0.6, fibra_g: 'NA', grupoSubstituicao: 'ovo' },
src/data/alimentos-taco-completo.ts:98:  { id: 'ovo_galinha_inteiro_cru', codigo: 489, nome: 'Ovo, de galinha, inteiro, cru', categoria: 'Ovos e derivados', energia_kcal: 143, proteina_g: 13.0, lipideos_g: 8.9, colesterol_mg: 356, carboidrato_g: 1.6, fibra_g: 'NA', grupoSubstituicao: 'ovo' },
src/data/alimentos-taco-completo.ts:99:  { id: 'ovo_galinha_clara_cozida', codigo: 486, nome: 'Ovo, de galinha, clara, cozida/10minutos', categoria: 'Ovos e derivados', energia_kcal: 59, proteina_g: 13.4, lipideos_g: 0.1, colesterol_mg: 'NA', carboidrato_g: 0.0, fibra_g: 'NA', grupoSubstituicao: 'proteina_pura' },
src/data/alimentos-taco-completo.ts:100:  { id: 'ovo_codorna_inteiro_cru', codigo: 485, nome: 'Ovo, de codorna, inteiro, cru', categoria: 'Ovos e derivados', energia_kcal: 177, proteina_g: 13.7, lipideos_g: 12.7, colesterol_mg: 568, carboidrato_g: 0.8, fibra_g: 'NA', grupoSubstituicao: 'ovo' },
src/data/alimentos-taco-completo.ts:103:  { id: 'feijao_carioca_cozido', codigo: 561, nome: 'Feijão, carioca, cozido', categoria: 'Leguminosas e derivados', energia_kcal: 76, proteina_g: 4.8, lipideos_g: 0.5, colesterol_mg: 'NA', carboidrato_g: 13.6, fibra_g: 8.5, grupoSubstituicao: 'leguminosa' },
src/data/alimentos-taco-completo.ts:104:  { id: 'feijao_preto_cozido', codigo: 567, nome: 'Feijão, preto, cozido', categoria: 'Leguminosas e derivados', energia_kcal: 77, proteina_g: 4.5, lipideos_g: 0.5, colesterol_mg: 'NA', carboidrato_g: 14.0, fibra_g: 8.4, grupoSubstituicao: 'leguminosa' },
src/data/alimentos-taco-completo.ts:105:  { id: 'lentilha_cozida', codigo: 577, nome: 'Lentilha, cozida', categoria: 'Leguminosas e derivados', energia_kcal: 93, proteina_g: 6.3, lipideos_g: 0.5, colesterol_mg: 'NA', carboidrato_g: 16.3, fibra_g: 7.9, grupoSubstituicao: 'leguminosa' },
src/data/alimentos-taco-completo.ts:106:  { id: 'grao_bico_cru', codigo: 575, nome: 'Grão-de-bico, cru', categoria: 'Leguminosas e derivados', energia_kcal: 355, proteina_g: 21.2, lipideos_g: 5.4, colesterol_mg: 'NA', carboidrato_g: 57.9, fibra_g: 12.4, grupoSubstituicao: 'leguminosa' },
src/data/alimentos-taco-completo.ts:107:  { id: 'ervilha_em_vagem', codigo: 559, nome: 'Ervilha, em vagem', categoria: 'Leguminosas e derivados', energia_kcal: 88, proteina_g: 7.5, lipideos_g: 0.5, colesterol_mg: 'NA', carboidrato_g: 14.2, fibra_g: 9.7, grupoSubstituicao: 'leguminosa' },
src/data/alimentos-taco-completo.ts:108:  { id: 'amendoim_grao_cru', codigo: 557, nome: 'Amendoim, grão, cru', categoria: 'Leguminosas e derivados', energia_kcal: 544, proteina_g: 27.2, lipideos_g: 43.9, colesterol_mg: 'NA', carboidrato_g: 20.3, fibra_g: 8.0, grupoSubstituicao: 'oleaginosa' },
src/data/alimentos-taco-completo.ts:111:  { id: 'queijo_minas_frescal', codigo: 461, nome: 'Queijo, minas, frescal', categoria: 'Leite e derivados', energia_kcal: 264, proteina_g: 17.4, lipideos_g: 20.2, colesterol_mg: 62, carboidrato_g: 3.2, fibra_g: 'NA', grupoSubstituicao: 'queijo' },
src/data/alimentos-taco-completo.ts:112:  { id: 'queijo_ricota', codigo: 469, nome: 'Queijo, ricota', categoria: 'Leite e derivados', energia_kcal: 140, proteina_g: 12.6, lipideos_g: 8.1, colesterol_mg: 49, carboidrato_g: 3.8, fibra_g: 'NA', grupoSubstituicao: 'queijo_light' },
src/data/alimentos-taco-completo.ts:113:  { id: 'iogurte_natural', codigo: 448, nome: 'Iogurte, natural', categoria: 'Leite e derivados', energia_kcal: 51, proteina_g: 4.1, lipideos_g: 3.0, colesterol_mg: 14, carboidrato_g: 1.9, fibra_g: 'NA', grupoSubstituicao: 'iogurte' },
src/data/alimentos-taco-completo.ts:114:  { id: 'iogurte_natural_desnatado', codigo: 449, nome: 'Iogurte, natural, desnatado', categoria: 'Leite e derivados', energia_kcal: 41, proteina_g: 3.8, lipideos_g: 0.3, colesterol_mg: 3, carboidrato_g: 5.8, fibra_g: 'NA', grupoSubstituicao: 'iogurte_light' },
src/data/alimentos-taco-completo.ts:121: * 1. Mesmo grupo de substituição (proteina_magra, carboidrato_integral, etc)
src/components/steps/Step3Metabolismo.tsx:12:import { calcularMetabolismo } from '@/lib/metabolismo'
src/components/steps/Step3Metabolismo.tsx:13:import type { ResultadoMetabolico } from '@/types'
src/components/steps/Step3Metabolismo.tsx:15:import { computeGET, getActivityFactor, inferNivelTreinoFromState } from "@/features/fitness-suite/engine/metabolismoActivity";
src/components/steps/Step3Metabolismo.tsx:42:    step3: (__mf_step3_fromValue.step3 ?? (state as any).metabolismo ?? (state as any).metabolism ?? __mf_step3_fromValue ?? {}),
src/components/steps/Step3Metabolismo.tsx:43:    metabolismo: (state as any).metabolismo };
src/components/steps/Step3Metabolismo.tsx:50:  // Regra: 1) se já existe metabolismo salvo no state -> usa e pronto
src/components/steps/Step3Metabolismo.tsx:52:  const [resultado, setResultado] = useState<ResultadoMetabolico | null>(() => {
src/components/steps/Step3Metabolismo.tsx:54:    const m = (state as any)?.metabolismo ?? (state as any)?.resultadoMetabolico ?? null;
src/components/steps/Step3Metabolismo.tsx:79:    { key: "ectomorfo", label: "Ectomorfo", desc: "Tende a manter baixo % de gordura e ter mais dificuldade em ganhar massa." },
src/components/steps/Step3Metabolismo.tsx:81:    { key: "endomorfo", label: "Endomorfo", desc: "Tende a acumular gordura com mais facilidade; foco em aderência e estratégia." },
src/components/steps/Step3Metabolismo.tsx:89:    (state as any)?.metabolismo?.nivelAtividadeSemanal ??
src/components/steps/Step3Metabolismo.tsx:173:// MF_BLOCO5C_DELTA_GET_TMB_CALC: impacto real do fator semanal (apenas via state => sem risco de escopo)
src/components/steps/Step3Metabolismo.tsx:176:    (state as any)?.resultadoMetabolico?.TMB ??
src/components/steps/Step3Metabolismo.tsx:177:    (state as any)?.metabolismo?.tmb ??
src/components/steps/Step3Metabolismo.tsx:178:    (state as any)?.metabolismo?.TMB ??
src/components/steps/Step3Metabolismo.tsx:183:    (state as any)?.resultadoMetabolico?.GET ??
src/components/steps/Step3Metabolismo.tsx:184:    (state as any)?.metabolismo?.get ??
src/components/steps/Step3Metabolismo.tsx:185:    (state as any)?.metabolismo?.GET ??
src/components/steps/Step3Metabolismo.tsx:193:    (state as any)?.metabolismo?.nivelAtividadeSemanal ??
src/components/steps/Step3Metabolismo.tsx:197:  // Preview objetivo do treino (pós-metabolismo)
src/components/steps/Step3Metabolismo.tsx:206:        {/* MF_BLOCO5C_DELTA_GET_TMB */}
src/components/steps/Step3Metabolismo.tsx:213:              <span className="font-semibold text-white">Impacto (Δ GET − TMB)</span>: {__delta} kcal/dia
src/components/steps/Step3Metabolismo.tsx:217:            Esse delta representa o efeito do seu fator de atividade semanal sobre o gasto energético total (GET).
src/components/steps/Step3Metabolismo.tsx:218:            Não é “chute”: é a diferença matemática entre GET e TMB no seu cálculo atual.
src/components/steps/Step3Metabolismo.tsx:247:    if (state.perfil && state.avaliacao && !state.metabolismo) {
src/components/steps/Step3Metabolismo.tsx:250:      // GET by activity level (iniciante/intermediario/avancado)
src/components/steps/Step3Metabolismo.tsx:253:      const get = computeGET((calc as any).tmb, fator)
src/components/steps/Step3Metabolismo.tsx:260:metabolismo: calc
src/components/steps/Step3Metabolismo.tsx:266:    biotipo: mfBioKey } } as any);} else if (state.metabolismo) {
src/components/steps/Step3Metabolismo.tsx:269:  }, [state.perfil, state.avaliacao, state.metabolismo, updateState])
src/components/steps/Step3Metabolismo.tsx:281:          Um resumo objetivo do protocolo semanal, baseado no seu metabolismo e perfil.
src/components/steps/Step3Metabolismo.tsx:294:                <p className="text-xs text-muted-foreground mt-1">Define o fator de atividade (PAL) usado no cálculo do GET.</p>
src/components/steps/Step3Metabolismo.tsx:372:            Aqui estimamos seu gasto energético (TMB e gasto total diário) com base no seu perfil.
src/components/steps/Step3Metabolismo.tsx:373:            Esse número vira a referência para calorias e macros — deixando o plano mais consistente e sustentável.
src/components/steps/Step3Metabolismo.tsx:388:    cunningham: 'Cunningham',
src/components/steps/Step3Metabolismo.tsx:389:    'fao-who': 'FAO/WHO',
src/components/steps/Step3Metabolismo.tsx:390:    'harris-benedict': 'Harris-Benedict',
src/components/steps/Step3Metabolismo.tsx:391:    mifflin: 'Mifflin-St Jeor',
src/components/steps/Step3Metabolismo.tsx:402:        <p className="text-muted-foreground">Base científica para definir calorias e macros com segurança.</p>
src/components/steps/Step3Metabolismo.tsx:409:          Equação escolhida: {nomeEquacoes[resultado.equacaoUtilizada]}
src/components/steps/Step3Metabolismo.tsx:420:            <CardDescription>TMB (repouso)</CardDescription>
src/components/steps/Step3Metabolismo.tsx:453:            <CardDescription>GET (dia todo)</CardDescription>
src/components/steps/Step3Metabolismo.tsx:468:              {resultado.caloriasAlvo}
src/components/steps/Step3Metabolismo.tsx:576:              const isEscolhida = key === resultado.equacaoUtilizada.replace('-', '')
src/lib/metabolismo.ts:47:import type { PerfilUsuario, AvaliacaoFisica, EquacaoMetabolica, ResultadoMetabolico } from '@/types'
src/lib/metabolismo.ts:73:// Cunningham (baseado em massa magra)
src/lib/metabolismo.ts:74:export const calcularCunningham = (massaMagra: number): number => {
src/lib/metabolismo.ts:78:// Harris-Benedict
src/lib/metabolismo.ts:79:export const calcularHarrisBenedict = (peso: number, altura: number, idade: number, sexo: string): number => {
src/lib/metabolismo.ts:86:// Mifflin-St Jeor
src/lib/metabolismo.ts:87:export const calcularMifflin = (peso: number, altura: number, idade: number, sexo: string): number => {
src/lib/metabolismo.ts:94:// FAO/WHO
src/lib/metabolismo.ts:125:  // Avançado/Intermediário + composição → Cunningham
src/lib/metabolismo.ts:130:  // Performance/Hipertrofia → Mifflin
src/lib/metabolismo.ts:135:  // Longevidade/Sedentário → FAO/WHO
src/lib/metabolismo.ts:140:  // Default: Mifflin (mais moderno e preciso)
src/lib/metabolismo.ts:145:export const gerarJustificativa = (equacao: EquacaoMetabolica, perfil: PerfilUsuario): string => {
src/lib/metabolismo.ts:147:    cunningham: `Escolhida por você ${perfil.nivelTreino === 'avancado' ? 'treinar de forma avançada' : 'ter nível intermediário'} e possuir dados de composição corporal. A equação de Cunningham é mais precisa quando temos a massa magra real.`,
src/lib/metabolismo.ts:153:    mifflin: `A equação de Mifflin-St Jeor é considerada a mais precisa para a população geral, especialmente para ${perfil.objetivo === 'hipertrofia' ? 'ganho de massa muscular' : 'melhoria de performance'}.`,
src/lib/metabolismo.ts:158:  return justificativas[equacao]
src/lib/metabolismo.ts:161:// Calcular metabolismo completo
src/lib/metabolismo.ts:165:): ResultadoMetabolico => {
src/lib/metabolismo.ts:174:  const equacaoEscolhida = decidirEquacaoMetabolica(perfil, avaliacao)
src/lib/metabolismo.ts:176:  // Calcular TMB com a equação escolhida
src/lib/metabolismo.ts:178:  switch (equacaoEscolhida) {
src/lib/metabolismo.ts:180:      tmb = calcularCunningham(massaMagra)
src/lib/metabolismo.ts:186:      tmb = calcularHarrisBenedict(peso, altura, idade, sexo)
src/lib/metabolismo.ts:189:      tmb = calcularMifflin(peso, altura, idade, sexo)
src/lib/metabolismo.ts:196:  // GET = TMB × FAF
src/lib/metabolismo.ts:204:  let caloriasAlvo = get
src/lib/metabolismo.ts:206:    caloriasAlvo = get * 0.85 // déficit de 15%
src/lib/metabolismo.ts:208:    caloriasAlvo = get * 1.1 // superávit de 10%
src/lib/metabolismo.ts:212:    minimo: Math.round(caloriasAlvo * 0.90),
src/lib/metabolismo.ts:213:    ideal: Math.round(caloriasAlvo),
src/lib/metabolismo.ts:214:    maximo: Math.round(caloriasAlvo * 1.10)
src/lib/metabolismo.ts:232:  caloriasAlvo = caloriasAlvo + (ajusteBiotipoKcal || 0);
src/lib/metabolismo.ts:234:    minimo: Math.round(caloriasAlvo * 0.90),
src/lib/metabolismo.ts:235:    ideal: Math.round(caloriasAlvo),
src/lib/metabolismo.ts:236:    maximo: Math.round(caloriasAlvo * 1.10)
src/lib/metabolismo.ts:241:    cunningham: Math.round(calcularCunningham(massaMagra) * faf),
src/lib/metabolismo.ts:243:    harrisBenedict: Math.round(calcularHarrisBenedict(peso, altura, idade, sexo) * faf),
src/lib/metabolismo.ts:244:    mifflin: Math.round(calcularMifflin(peso, altura, idade, sexo) * faf),
src/lib/metabolismo.ts:249:    equacaoUtilizada: equacaoEscolhida,
src/lib/metabolismo.ts:250:    justificativa: gerarJustificativa(equacaoEscolhida, perfil),
src/lib/metabolismo.ts:256:    caloriasAlvo: Math.round(caloriasAlvo),
src/engine/ssot/SSOTEngine.ts:111:  const trace = {
src/engine/ssot/SSOTEngine.ts:128:    audit: { trace, warnings }
src/data/alimentos-taco.ts:9:  proteinas: number // g por 100g
src/data/alimentos-taco.ts:10:  carboidratos: number // g por 100g
src/data/alimentos-taco.ts:11:  gorduras: number // g por 100g
src/data/alimentos-taco.ts:17:  { id: 'frango_peito', nome: 'Peito de Frango Grelhado', categoria: 'proteina', calorias: 165, proteinas: 31.0, carboidratos: 0, gorduras: 3.6, fibras: 0 },
src/data/alimentos-taco.ts:18:  { id: 'frango_coxa', nome: 'Coxa de Frango sem Pele', categoria: 'proteina', calorias: 127, proteinas: 19.0, carboidratos: 0, gorduras: 5.4, fibras: 0 },
src/data/alimentos-taco.ts:19:  { id: 'carne_patinho', nome: 'Carne Bovina Patinho', categoria: 'proteina', calorias: 158, proteinas: 21.4, carboidratos: 0, gorduras: 7.8, fibras: 0 },
src/data/alimentos-taco.ts:20:  { id: 'carne_alcatra', nome: 'Carne Bovina Alcatra', categoria: 'proteina', calorias: 192, proteinas: 23.6, carboidratos: 0, gorduras: 10.4, fibras: 0 },
src/data/alimentos-taco.ts:21:  { id: 'carne_file_mignon', nome: 'Filé Mignon', categoria: 'proteina', calorias: 189, proteinas: 22.0, carboidratos: 0, gorduras: 11.0, fibras: 0 },
src/data/alimentos-taco.ts:22:  { id: 'tilapia', nome: 'Tilápia', categoria: 'proteina', calorias: 96, proteinas: 20.1, carboidratos: 0, gorduras: 1.6, fibras: 0 },
src/data/alimentos-taco.ts:23:  { id: 'salmao', nome: 'Salmão', categoria: 'proteina', calorias: 211, proteinas: 19.9, carboidratos: 0, gorduras: 14.6, fibras: 0 },
src/data/alimentos-taco.ts:24:  { id: 'atum_conserva', nome: 'Atum em Conserva', categoria: 'proteina', calorias: 118, proteinas: 26.4, carboidratos: 0, gorduras: 0.8, fibras: 0 },
src/data/alimentos-taco.ts:25:  { id: 'sardinha', nome: 'Sardinha em Conserva', categoria: 'proteina', calorias: 134, proteinas: 24.6, carboidratos: 0, gorduras: 3.7, fibras: 0 },
src/data/alimentos-taco.ts:26:  { id: 'ovo_inteiro', nome: 'Ovo Cozido Inteiro', categoria: 'proteina', calorias: 146, proteinas: 13.3, carboidratos: 1.6, gorduras: 8.9, fibras: 0 },
src/data/alimentos-taco.ts:27:  { id: 'clara_ovo', nome: 'Clara de Ovo', categoria: 'proteina', calorias: 48, proteinas: 10.9, carboidratos: 1.3, gorduras: 0, fibras: 0 },
src/data/alimentos-taco.ts:28:  { id: 'peito_peru', nome: 'Peito de Peru', categoria: 'proteina', calorias: 103, proteinas: 21.9, carboidratos: 1.3, gorduras: 1.1, fibras: 0 },
src/data/alimentos-taco.ts:31:  { id: 'arroz_branco', nome: 'Arroz Branco Cozido', categoria: 'carboidrato', calorias: 130, proteinas: 2.5, carboidratos: 28.1, gorduras: 0.2, fibras: 1.6 },
src/data/alimentos-taco.ts:32:  { id: 'arroz_integral', nome: 'Arroz Integral Cozido', categoria: 'carboidrato', calorias: 124, proteinas: 2.6, carboidratos: 25.8, gorduras: 1.0, fibras: 2.7 },
src/data/alimentos-taco.ts:33:  { id: 'batata_doce', nome: 'Batata Doce Cozida', categoria: 'carboidrato', calorias: 77, proteinas: 0.6, carboidratos: 18.4, gorduras: 0.1, fibras: 2.2 },
src/data/alimentos-taco.ts:34:  { id: 'batata_inglesa', nome: 'Batata Inglesa Cozida', categoria: 'carboidrato', calorias: 52, proteinas: 1.2, carboidratos: 11.9, gorduras: 0.1, fibras: 1.3 },
src/data/alimentos-taco.ts:35:  { id: 'mandioca', nome: 'Mandioca Cozida', categoria: 'carboidrato', calorias: 125, proteinas: 0.6, carboidratos: 30.1, gorduras: 0.3, fibras: 1.6 },
src/data/alimentos-taco.ts:36:  { id: 'macarrao_integral', nome: 'Macarrão Integral Cozido', categoria: 'carboidrato', calorias: 127, proteinas: 5.3, carboidratos: 24.4, gorduras: 1.3, fibras: 3.9 },
src/data/alimentos-taco.ts:37:  { id: 'aveia', nome: 'Aveia em Flocos', categoria: 'carboidrato', calorias: 394, proteinas: 13.9, carboidratos: 66.6, gorduras: 8.5, fibras: 9.1 },
src/data/alimentos-taco.ts:38:  { id: 'quinoa', nome: 'Quinoa Cozida', categoria: 'carboidrato', calorias: 120, proteinas: 4.4, carboidratos: 21.3, gorduras: 1.9, fibras: 2.8 },
src/data/alimentos-taco.ts:39:  { id: 'tapioca', nome: 'Tapioca', categoria: 'carboidrato', calorias: 358, proteinas: 1.0, carboidratos: 88.7, gorduras: 0.5, fibras: 0.6 },
src/data/alimentos-taco.ts:40:  { id: 'pao_integral', nome: 'Pão Integral', categoria: 'carboidrato', calorias: 253, proteinas: 9.4, carboidratos: 49.0, gorduras: 3.0, fibras: 6.9 },
src/data/alimentos-taco.ts:41:  { id: 'granola', nome: 'Granola', categoria: 'carboidrato', calorias: 434, proteinas: 11.2, carboidratos: 63.2, gorduras: 14.8, fibras: 7.2 },
src/data/alimentos-taco.ts:44:  { id: 'feijao_carioca', nome: 'Feijão Carioca Cozido', categoria: 'carboidrato', calorias: 76, proteinas: 4.8, carboidratos: 13.6, gorduras: 0.5, fibras: 8.5 },
src/data/alimentos-taco.ts:45:  { id: 'feijao_preto', nome: 'Feijão Preto Cozido', categoria: 'carboidrato', calorias: 77, proteinas: 4.5, carboidratos: 14.0, gorduras: 0.5, fibras: 8.4 },
src/data/alimentos-taco.ts:46:  { id: 'lentilha', nome: 'Lentilha Cozida', categoria: 'carboidrato', calorias: 93, proteinas: 6.3, carboidratos: 16.0, gorduras: 0.5, fibras: 7.9 },
src/data/alimentos-taco.ts:47:  { id: 'grao_bico', nome: 'Grão de Bico Cozido', categoria: 'carboidrato', calorias: 121, proteinas: 6.8, carboidratos: 18.8, gorduras: 2.0, fibras: 5.4 },
src/data/alimentos-taco.ts:48:  { id: 'ervilha', nome: 'Ervilha Cozida', categoria: 'carboidrato', calorias: 63, proteinas: 5.4, carboidratos: 9.8, gorduras: 0.2, fibras: 7.5 },
src/data/alimentos-taco.ts:51:  { id: 'azeite', nome: 'Azeite de Oliva', categoria: 'gordura', calorias: 884, proteinas: 0, carboidratos: 0, gorduras: 100, fibras: 0 },
src/data/alimentos-taco.ts:52:  { id: 'oleo_coco', nome: 'Óleo de Coco', categoria: 'gordura', calorias: 862, proteinas: 0, carboidratos: 0, gorduras: 100, fibras: 0 },
src/data/alimentos-taco.ts:53:  { id: 'abacate', nome: 'Abacate', categoria: 'gordura', calorias: 96, proteinas: 1.2, carboidratos: 6.0, gorduras: 8.4, fibras: 6.3 },
src/data/alimentos-taco.ts:54:  { id: 'castanha_caju', nome: 'Castanha de Caju', categoria: 'gordura', calorias: 570, proteinas: 18.5, carboidratos: 29.1, gorduras: 46.3, fibras: 3.7 },
src/data/alimentos-taco.ts:55:  { id: 'castanha_para', nome: 'Castanha do Pará', categoria: 'gordura', calorias: 643, proteinas: 14.5, carboidratos: 15.1, gorduras: 63.5, fibras: 7.9 },
src/data/alimentos-taco.ts:56:  { id: 'amendoim', nome: 'Amendoim', categoria: 'gordura', calorias: 567, proteinas: 27.2, carboidratos: 20.3, gorduras: 43.9, fibras: 8.0 },
src/data/alimentos-taco.ts:57:  { id: 'pasta_amendoim', nome: 'Pasta de Amendoim Integral', categoria: 'gordura', calorias: 589, proteinas: 25.8, carboidratos: 20.0, gorduras: 50.0, fibras: 8.5 },
src/data/alimentos-taco.ts:58:  { id: 'nozes', nome: 'Nozes', categoria: 'gordura', calorias: 654, proteinas: 15.2, carboidratos: 13.7, gorduras: 65.2, fibras: 6.7 },
src/data/alimentos-taco.ts:59:  { id: 'amêndoas', nome: 'Amêndoas', categoria: 'gordura', calorias: 579, proteinas: 21.2, carboidratos: 21.7, gorduras: 49.9, fibras: 12.5 },
src/data/alimentos-taco.ts:62:  { id: 'iogurte_grego', nome: 'Iogurte Grego Natural', categoria: 'proteina', calorias: 59, proteinas: 10.0, carboidratos: 3.6, gorduras: 0.4, fibras: 0 },
src/data/alimentos-taco.ts:63:  { id: 'iogurte_desnatado', nome: 'Iogurte Natural Desnatado', categoria: 'proteina', calorias: 41, proteinas: 4.3, carboidratos: 5.9, gorduras: 0.2, fibras: 0 },
src/data/alimentos-taco.ts:64:  { id: 'queijo_cottage', nome: 'Queijo Cottage', categoria: 'proteina', calorias: 98, proteinas: 11.1, carboidratos: 3.4, gorduras: 4.3, fibras: 0 },
src/data/alimentos-taco.ts:65:  { id: 'queijo_minas', nome: 'Queijo Minas Frescal', categoria: 'proteina', calorias: 264, proteinas: 17.4, carboidratos: 2.9, gorduras: 20.8, fibras: 0 },
src/data/alimentos-taco.ts:66:  { id: 'leite_desnatado', nome: 'Leite Desnatado', categoria: 'proteina', calorias: 35, proteinas: 3.4, carboidratos: 4.9, gorduras: 0.1, fibras: 0 },
src/data/alimentos-taco.ts:67:  { id: 'requeijao_light', nome: 'Requeijão Light', categoria: 'proteina', calorias: 138, proteinas: 8.5, carboidratos: 4.0, gorduras: 9.5, fibras: 0 },
src/data/alimentos-taco.ts:69:  // VEGETAIS E VERDURAS
src/data/alimentos-taco.ts:70:  { id: 'brocolis', nome: 'Brócolis Cozido', categoria: 'vegetal', calorias: 25, proteinas: 2.3, carboidratos: 4.0, gorduras: 0.4, fibras: 3.4 },
src/data/alimentos-taco.ts:71:  { id: 'couve_flor', nome: 'Couve-flor Cozida', categoria: 'vegetal', calorias: 20, proteinas: 1.5, carboidratos: 4.0, gorduras: 0.2, fibras: 2.1 },
src/data/alimentos-taco.ts:72:  { id: 'espinafre', nome: 'Espinafre Cozido', categoria: 'vegetal', calorias: 23, proteinas: 3.0, carboidratos: 3.6, gorduras: 0.3, fibras: 2.4 },
src/data/alimentos-taco.ts:73:  { id: 'alface', nome: 'Alface', categoria: 'vegetal', calorias: 15, proteinas: 1.4, carboidratos: 2.9, gorduras: 0.2, fibras: 2.0 },
src/data/alimentos-taco.ts:74:  { id: 'tomate', nome: 'Tomate', categoria: 'vegetal', calorias: 15, proteinas: 1.1, carboidratos: 3.1, gorduras: 0.2, fibras: 1.2 },
src/data/alimentos-taco.ts:75:  { id: 'cenoura', nome: 'Cenoura Crua', categoria: 'vegetal', calorias: 34, proteinas: 1.3, carboidratos: 7.7, gorduras: 0.2, fibras: 3.2 },
src/data/alimentos-taco.ts:76:  { id: 'abobrinha', nome: 'Abobrinha Cozida', categoria: 'vegetal', calorias: 20, proteinas: 1.2, carboidratos: 4.3, gorduras: 0.2, fibras: 1.4 },
src/data/alimentos-taco.ts:77:  { id: 'berinjela', nome: 'Berinjela Cozida', categoria: 'vegetal', calorias: 20, proteinas: 0.8, carboidratos: 4.7, gorduras: 0.1, fibras: 2.5 },
src/data/alimentos-taco.ts:78:  { id: 'pimentao', nome: 'Pimentão', categoria: 'vegetal', calorias: 21, proteinas: 1.0, carboidratos: 4.6, gorduras: 0.3, fibras: 1.9 },
src/data/alimentos-taco.ts:79:  { id: 'chuchu', nome: 'Chuchu Cozido', categoria: 'vegetal', calorias: 19, proteinas: 0.7, carboidratos: 4.5, gorduras: 0.2, fibras: 1.4 },
src/data/alimentos-taco.ts:82:  { id: 'banana', nome: 'Banana', categoria: 'fruta', calorias: 92, proteinas: 1.3, carboidratos: 23.8, gorduras: 0.1, fibras: 2.0 },
src/data/alimentos-taco.ts:83:  { id: 'maca', nome: 'Maçã', categoria: 'fruta', calorias: 56, proteinas: 0.3, carboidratos: 14.9, gorduras: 0.1, fibras: 1.3 },
src/data/alimentos-taco.ts:84:  { id: 'mamao', nome: 'Mamão Papaya', categoria: 'fruta', calorias: 40, proteinas: 0.5, carboidratos: 10.4, gorduras: 0.1, fibras: 1.8 },
src/data/alimentos-taco.ts:85:  { id: 'morango', nome: 'Morango', categoria: 'fruta', calorias: 30, proteinas: 0.9, carboidratos: 6.8, gorduras: 0.3, fibras: 1.7 },
src/data/alimentos-taco.ts:86:  { id: 'melancia', nome: 'Melancia', categoria: 'fruta', calorias: 33, proteinas: 0.9, carboidratos: 8.1, gorduras: 0.1, fibras: 0.1 },
src/data/alimentos-taco.ts:87:  { id: 'laranja', nome: 'Laranja', categoria: 'fruta', calorias: 45, proteinas: 1.0, carboidratos: 11.5, gorduras: 0.1, fibras: 2.2 },
src/data/alimentos-taco.ts:88:  { id: 'kiwi', nome: 'Kiwi', categoria: 'fruta', calorias: 51, proteinas: 1.1, carboidratos: 12.2, gorduras: 0.6, fibras: 2.7 },
src/data/alimentos-taco.ts:89:  { id: 'abacaxi', nome: 'Abacaxi', categoria: 'fruta', calorias: 48, proteinas: 0.9, carboidratos: 12.3, gorduras: 0.1, fibras: 1.0 },
src/data/alimentos-taco.ts:92:  { id: 'whey_protein', nome: 'Whey Protein Isolado', categoria: 'suplemento', calorias: 360, proteinas: 90.0, carboidratos: 2.0, gorduras: 1.0, fibras: 0 },
src/data/alimentos-taco.ts:93:  { id: 'creatina', nome: 'Creatina Monohidratada', categoria: 'suplemento', calorias: 0, proteinas: 0, carboidratos: 0, gorduras: 0, fibras: 0 },
src/data/alimentos-taco.ts:94:  { id: 'bcaa', nome: 'BCAA', categoria: 'suplemento', calorias: 20, proteinas: 5.0, carboidratos: 0, gorduras: 0, fibras: 0 },
src/data/alimentos-taco.ts:95:  { id: 'albumina', nome: 'Albumina', categoria: 'suplemento', calorias: 365, proteinas: 81.0, carboidratos: 5.0, gorduras: 0.5, fibras: 0 },
src/data/alimentos-taco.ts:118:  const caloriasAlvo = alimento.calorias
src/data/alimentos-taco.ts:126:      diferenca: Math.abs(a.calorias - caloriasAlvo),
src/data/alimentos-taco.ts:127:      gramagem: Math.round((caloriasAlvo * 100) / a.calorias) // Gramas necessárias para atingir as mesmas calorias
src/services/plan.service.ts:21:  macros?: {
src/services/plan.service.ts:106:    bodyFatPercent: Number(step2?.percentualGordura ?? step2?.bodyFatPercent ?? step2?.bf ?? step2?.gorduraCorporal ?? step2?.["%gordura"] ?? undefined) || undefined,
src/services/plan.service.ts:118:  const macros = computeMacros({
src/services/plan.service.ts:125:  const meals = buildMealPlan(metabolic.targetKcal, macros);
src/services/plan.service.ts:139:    macros,
src/components/steps/Step5Treino.tsx:272:        // energia alvo final (GET + ajuste por objetivo + carga semanal)
src/components/steps/Step5Treino.tsx:273:    const getKcal = Number((state as any)?.metabolismo?.get ?? (state as any)?.metabolismo?.caloriasAlvo ?? 0);
src/components/steps/Step5Treino.tsx:275:    const nivelAtv = String((state as any)?.metabolismo?.nivelAtividade ?? (state as any)?.perfil?.nivelTreino ?? 'iniciante').toLowerCase();
src/components/steps/Step5Treino.tsx:289:      metabolismo: {
src/components/steps/Step5Treino.tsx:290:        ...(state as any).metabolismo,
src/components/steps/Step5Treino.tsx:295:        caloriasAlvo: energy.caloriasAlvoFinal,
src/components/steps/Step5Treino.tsx:296:        caloriasAlvoFinal: energy.caloriasAlvoFinal,
src/utils/substituicoes.ts:3:  proteina?: number;
src/utils/substituicoes.ts:4:  carboidratos?: number;
src/utils/substituicoes.ts:5:  gorduras?: number;
src/utils/substituicoes.ts:22:// Heurística simples e segura: escolhe itens "mais próximos" do alvo calórico/macros.
src/components/planos/DietaAtivaView.tsx:24:    p += mfNum(a?.proteinas, 0);
src/components/planos/DietaAtivaView.tsx:25:    c += mfNum(a?.carboidratos, 0);
src/components/planos/DietaAtivaView.tsx:26:    g += mfNum(a?.gorduras, 0);
src/components/planos/DietaAtivaView.tsx:36:  proteina: [
src/components/planos/DietaAtivaView.tsx:50:  gordura: [
src/components/planos/DietaAtivaView.tsx:64:  if (/(frango|carne|atum|ovo|whey|iogurte|queijo|peixe)/.test(n)) return "proteina";
src/components/planos/DietaAtivaView.tsx:66:  if (/(azeite|castanha|amendoim|abacate|manteiga)/.test(n)) return "gordura";
src/components/planos/DietaAtivaView.tsx:90:  const alvoKcal = mfNum((dietaAtiva as any)?.nutricao?.caloriasAlvo ?? (dietaAtiva as any)?.nutricao?.kcalAlvo ?? (dietaAtiva as any)?.caloriasAlvo, 0);
src/components/planos/DietaAtivaView.tsx:91:  const alvoP = mfNum((dietaAtiva as any)?.nutricao?.macros?.proteinas ?? (dietaAtiva as any)?.nutricao?.proteinasAlvo, 0);
src/components/planos/DietaAtivaView.tsx:92:  const alvoC = mfNum((dietaAtiva as any)?.nutricao?.macros?.carboidratos ?? (dietaAtiva as any)?.nutricao?.carboidratosAlvo, 0);
src/components/planos/DietaAtivaView.tsx:93:  const alvoG = mfNum((dietaAtiva as any)?.nutricao?.macros?.gorduras ?? (dietaAtiva as any)?.nutricao?.gordurasAlvo, 0);
src/components/planos/DietaAtivaView.tsx:214:                          <div className="text-[11px] text-gray-500 mt-2">Ajuste final e macros detalhados ficam na tela de edição.</div>
src/types/index.ts:86:export interface ResultadoMetabolico {
src/types/index.ts:88:  /** BLOCO 5A — frequência semanal de atividade para calibrar GET/TDEE */
src/types/index.ts:90:equacaoUtilizada: EquacaoMetabolica
src/types/index.ts:94:  caloriasAlvo: number
src/types/index.ts:122:  proteina: number // gramas
src/types/index.ts:123:  gorduras: number // gramas
src/types/index.ts:124:  carboidratos: number // gramas
src/types/index.ts:133:  proteinas: number
src/types/index.ts:134:  carboidratos: number
src/types/index.ts:135:  gorduras: number
src/types/index.ts:150:  macros: Macronutrientes
src/types/index.ts:155:  kcalAlvo?: number;
src/types/index.ts:327:  metabolismo?: ResultadoMetabolico
src/engine/ssot/selectors.ts:52:  const metabolismo = s.metabolismo ?? s.resultadoMetabolico ?? s.metabolic ?? {};
src/engine/ssot/selectors.ts:73:    n(metabolismo.fafFinal ?? metabolismo.faf ?? metabolismo.PAL ?? metabolismo.pal) ??
src/engine/ssot/selectors.ts:74:    n(metabolismo.fatorAtividade ?? metabolismo.activityFactor);
src/engine/ssot/selectors.ts:95:      selectedEquation: (String(step3.equacaoSelecionada ?? metabolismo.equacao ?? "auto") as any) || "auto"
src/types/alimentos.ts:1:// Database de alimentos com macros e substituições
src/types/alimentos.ts:6:  categoria: 'carboidrato' | 'proteina' | 'proteina-vegetal' | 'legume' | 'folhoso' | 'fruta' | 'gordura' | 'laticinio'
src/types/alimentos.ts:8:  macrosPor100g: {
src/types/alimentos.ts:10:    proteinas: number
src/types/alimentos.ts:11:    carboidratos: number
src/types/alimentos.ts:12:    gorduras: number
src/types/alimentos.ts:24:    categoria: 'carboidrato',
src/types/alimentos.ts:26:    macrosPor100g: { calorias: 130, proteinas: 2.7, carboidratos: 28, gorduras: 0.3 },
src/types/alimentos.ts:34:    categoria: 'carboidrato',
src/types/alimentos.ts:36:    macrosPor100g: { calorias: 123, proteinas: 2.6, carboidratos: 25.8, gorduras: 1 },
src/types/alimentos.ts:44:    categoria: 'carboidrato',
src/types/alimentos.ts:46:    macrosPor100g: { calorias: 86, proteinas: 1.6, carboidratos: 20, gorduras: 0.1 },
src/types/alimentos.ts:54:    categoria: 'carboidrato',
src/types/alimentos.ts:56:    macrosPor100g: { calorias: 77, proteinas: 2, carboidratos: 17, gorduras: 0.1 },
src/types/alimentos.ts:64:    categoria: 'carboidrato',
src/types/alimentos.ts:66:    macrosPor100g: { calorias: 124, proteinas: 5, carboidratos: 26, gorduras: 0.5 },
src/types/alimentos.ts:74:    categoria: 'carboidrato',
src/types/alimentos.ts:76:    macrosPor100g: { calorias: 131, proteinas: 5, carboidratos: 25, gorduras: 1.1 },
src/types/alimentos.ts:84:    categoria: 'carboidrato',
src/types/alimentos.ts:86:    macrosPor100g: { calorias: 120, proteinas: 4.4, carboidratos: 21.3, gorduras: 1.9 },
src/types/alimentos.ts:94:    categoria: 'carboidrato',
src/types/alimentos.ts:96:    macrosPor100g: { calorias: 389, proteinas: 16.9, carboidratos: 66.3, gorduras: 6.9 },
src/types/alimentos.ts:104:    categoria: 'carboidrato',
src/types/alimentos.ts:106:    macrosPor100g: { calorias: 125, proteinas: 0.6, carboidratos: 30, gorduras: 0.4 },
src/types/alimentos.ts:114:    categoria: 'carboidrato',
src/types/alimentos.ts:116:    macrosPor100g: { calorias: 118, proteinas: 1.5, carboidratos: 27.6, gorduras: 0.2 },
src/types/alimentos.ts:126:    categoria: 'proteina',
src/types/alimentos.ts:128:    macrosPor100g: { calorias: 165, proteinas: 31, carboidratos: 0, gorduras: 3.6 },
src/types/alimentos.ts:136:    categoria: 'proteina',
src/types/alimentos.ts:138:    macrosPor100g: { calorias: 250, proteinas: 26, carboidratos: 0, gorduras: 15 },
src/types/alimentos.ts:146:    categoria: 'proteina',
src/types/alimentos.ts:148:    macrosPor100g: { calorias: 96, proteinas: 20, carboidratos: 0, gorduras: 1.7 },
src/types/alimentos.ts:156:    categoria: 'proteina',
src/types/alimentos.ts:158:    macrosPor100g: { calorias: 208, proteinas: 22, carboidratos: 0, gorduras: 13 },
src/types/alimentos.ts:166:    categoria: 'proteina',
src/types/alimentos.ts:168:    macrosPor100g: { calorias: 242, proteinas: 27, carboidratos: 0, gorduras: 14 },
src/types/alimentos.ts:176:    categoria: 'proteina',
src/types/alimentos.ts:178:    macrosPor100g: { calorias: 116, proteinas: 26, carboidratos: 0, gorduras: 0.8 },
src/types/alimentos.ts:186:    categoria: 'proteina',
src/types/alimentos.ts:188:    macrosPor100g: { calorias: 135, proteinas: 30, carboidratos: 0, gorduras: 1.5 },
src/types/alimentos.ts:196:    categoria: 'proteina',
src/types/alimentos.ts:198:    macrosPor100g: { calorias: 155, proteinas: 13, carboidratos: 1.1, gorduras: 11 },
src/types/alimentos.ts:199:    substituicoes: ['frango-peito', 'queijo-cottage', 'tofu', 'iogurte-grego', 'proteina-texturizada'],
src/types/alimentos.ts:204:  // PROTEÍNAS VEGETAIS
src/types/alimentos.ts:208:    categoria: 'proteina-vegetal',
src/types/alimentos.ts:210:    macrosPor100g: { calorias: 76, proteinas: 8, carboidratos: 1.9, gorduras: 4.8 },
src/types/alimentos.ts:211:    substituicoes: ['proteina-texturizada', 'tempeh', 'seitan', 'grao-de-bico', 'lentilha'],
src/types/alimentos.ts:216:    id: 'proteina-texturizada',
src/types/alimentos.ts:218:    categoria: 'proteina-vegetal',
src/types/alimentos.ts:220:    macrosPor100g: { calorias: 336, proteinas: 52, carboidratos: 30, gorduras: 0.5 },
src/types/alimentos.ts:228:    categoria: 'proteina-vegetal',
src/types/alimentos.ts:230:    macrosPor100g: { calorias: 193, proteinas: 20, carboidratos: 9, gorduras: 11 },
src/types/alimentos.ts:231:    substituicoes: ['tofu', 'proteina-texturizada', 'seitan', 'grao-de-bico', 'lentilha'],
src/types/alimentos.ts:238:    categoria: 'proteina-vegetal',
src/types/alimentos.ts:240:    macrosPor100g: { calorias: 370, proteinas: 75, carboidratos: 14, gorduras: 1.9 },
src/types/alimentos.ts:241:    substituicoes: ['tofu', 'tempeh', 'proteina-texturizada', 'grao-de-bico', 'lentilha'],
src/types/alimentos.ts:248:    categoria: 'proteina-vegetal',
src/types/alimentos.ts:250:    macrosPor100g: { calorias: 164, proteinas: 8.9, carboidratos: 27.4, gorduras: 2.6 },
src/types/alimentos.ts:251:    substituicoes: ['lentilha', 'feijao-preto', 'tofu', 'proteina-texturizada', 'ervilha'],
src/types/alimentos.ts:258:    categoria: 'proteina-vegetal',
src/types/alimentos.ts:260:    macrosPor100g: { calorias: 116, proteinas: 9, carboidratos: 20, gorduras: 0.4 },
src/types/alimentos.ts:261:    substituicoes: ['grao-de-bico', 'feijao-preto', 'tofu', 'proteina-texturizada', 'ervilha'],
src/types/alimentos.ts:268:    categoria: 'proteina-vegetal',
src/types/alimentos.ts:270:    macrosPor100g: { calorias: 132, proteinas: 8.9, carboidratos: 23.7, gorduras: 0.5 },
src/types/alimentos.ts:282:    macrosPor100g: { calorias: 34, proteinas: 2.8, carboidratos: 7, gorduras: 0.4 },
src/types/alimentos.ts:292:    macrosPor100g: { calorias: 25, proteinas: 1.9, carboidratos: 5, gorduras: 0.3 },
src/types/alimentos.ts:302:    macrosPor100g: { calorias: 41, proteinas: 0.9, carboidratos: 10, gorduras: 0.2 },
src/types/alimentos.ts:312:    macrosPor100g: { calorias: 17, proteinas: 1.2, carboidratos: 3.1, gorduras: 0.3 },
src/types/alimentos.ts:322:    macrosPor100g: { calorias: 31, proteinas: 1.8, carboidratos: 7, gorduras: 0.1 },
src/types/alimentos.ts:334:    macrosPor100g: { calorias: 15, proteinas: 1.4, carboidratos: 2.9, gorduras: 0.2 },
src/types/alimentos.ts:344:    macrosPor100g: { calorias: 25, proteinas: 2.6, carboidratos: 3.7, gorduras: 0.7 },
src/types/alimentos.ts:354:    macrosPor100g: { calorias: 23, proteinas: 2.9, carboidratos: 3.6, gorduras: 0.4 },
src/types/alimentos.ts:364:    macrosPor100g: { calorias: 49, proteinas: 4.3, carboidratos: 10, gorduras: 0.9 },
src/types/alimentos.ts:374:    macrosPor100g: { calorias: 11, proteinas: 2.3, carboidratos: 1.3, gorduras: 0.1 },
src/types/alimentos.ts:386:    macrosPor100g: { calorias: 89, proteinas: 1.1, carboidratos: 23, gorduras: 0.3 },
src/types/alimentos.ts:396:    macrosPor100g: { calorias: 52, proteinas: 0.3, carboidratos: 14, gorduras: 0.2 },
src/types/alimentos.ts:406:    macrosPor100g: { calorias: 43, proteinas: 0.5, carboidratos: 11, gorduras: 0.3 },
src/types/alimentos.ts:416:    macrosPor100g: { calorias: 32, proteinas: 0.7, carboidratos: 7.7, gorduras: 0.3 },
src/types/alimentos.ts:426:    macrosPor100g: { calorias: 50, proteinas: 0.5, carboidratos: 13, gorduras: 0.1 },
src/types/alimentos.ts:438:    macrosPor100g: { calorias: 59, proteinas: 10, carboidratos: 3.6, gorduras: 0.4 },
src/types/alimentos.ts:448:    macrosPor100g: { calorias: 98, proteinas: 11, carboidratos: 3.4, gorduras: 4.3 },
src/types/alimentos.ts:458:    categoria: 'gordura',
src/types/alimentos.ts:460:    macrosPor100g: { calorias: 884, proteinas: 0, carboidratos: 0, gorduras: 100 },
src/types/alimentos.ts:468:    categoria: 'gordura',
src/types/alimentos.ts:470:    macrosPor100g: { calorias: 160, proteinas: 2, carboidratos: 8.5, gorduras: 14.7 },
src/types/alimentos.ts:478:    categoria: 'gordura',
src/types/alimentos.ts:480:    macrosPor100g: { calorias: 607, proteinas: 20, carboidratos: 21, gorduras: 50 },
src/types/alimentos.ts:502:// Calcular macros para uma quantidade específica
src/types/alimentos.ts:509:    calorias: Math.round(alimento.macrosPor100g.calorias * fator),
src/types/alimentos.ts:510:    proteinas: Math.round(alimento.macrosPor100g.proteinas * fator * 10) / 10,
src/types/alimentos.ts:511:    carboidratos: Math.round(alimento.macrosPor100g.carboidratos * fator * 10) / 10,
src/types/alimentos.ts:512:    gorduras: Math.round(alimento.macrosPor100g.gorduras * fator * 10) / 10
src/engine/metabolic/energyAutoAdapter.ts:3: * - Integra o cálculo científico de REE/TMB (auto-equation) ao layer de engine.
src/engine/bodyfat.ts:40: * US Navy (% gordura) — medidas em cm
src/engine/bodyfat.ts:150:    notes: ["Dados insuficientes para estimar % gordura sem chute."]
src/engine/ssot/types.ts:84:  audit: {
src/engine/ssot/types.ts:85:    trace: SSOTAuditTrace;
src/features/fitness-suite/engine/goalEnergy.ts:44:    // leve superávit: +5% a +12% do GET, limitado por carga.
src/features/fitness-suite/engine/goalEnergy.ts:50:    // manutenção/leve superávit: 0% a +6% do GET conforme carga.
src/features/fitness-suite/engine/goalEnergy.ts:56:  // déficit moderado: -10% a -20% do GET, MAS se treino alto, reduzir déficit para preservar performance.
src/features/fitness-suite/engine/goalEnergy.ts:80:  // deltaTreino: aqui é só informativo (para transparência). O GET já inclui atividade média,
src/features/fitness-suite/engine/goalEnergy.ts:90:    caloriasAlvoFinal: alvoFinal,
src/features/fitness-suite/modules/dashboard/dashboardExport.ts:109:      const macros = pickFirst(d, ["macros","meta","targets","target","goal","objetivo","objetivoDiario","objetivo_diario"]);
src/features/fitness-suite/modules/dashboard/dashboardExport.ts:135:          macros: oneLine(macros, 260),
src/features/fitness-suite/modules/dashboard/DashboardPro.safe.tsx:10:    /diarre|mole/i.test(fezes) ? "Intestino: fezes muito moles podem indicar gatilhos alimentares. Ajuste gordura/ultraprocessados e hidrate-se. Persistindo, avalie com profissional."
src/features/fitness-suite/engine/metabolismoActivity.ts:3: * Objetivo: centralizar fator de atividade e cálculo de GET, evitando lógica duplicada em UI.
src/features/fitness-suite/engine/metabolismoActivity.ts:7: * - Se o app já tiver outra fórmula, este módulo só define fator e composição do GET (TDEE).
src/features/fitness-suite/engine/metabolismoActivity.ts:27: * Calcula GET (TDEE) a partir da TMB e do fator de atividade.
src/features/fitness-suite/engine/metabolismoActivity.ts:30:export function computeGET(tmb: number, activityFactor: number): number {
src/features/fitness-suite/engine/metabolismoActivity.ts:38: * Mantém compatibilidade com seu app (perfil/avaliacao/metabolismo).
src/features/fitness-suite/engine/metabolismoActivity.ts:41:  // prioridade: perfil (onde normalmente fica "nível"), depois avaliacao, depois metabolismo
src/features/fitness-suite/engine/metabolismoActivity.ts:45:    state?.metabolismo?.nivelTreino,
src/features/fitness-suite/engine/metabolismoActivity.ts:52:  const weekly = String((state as any)?.metabolismo?.nivelAtividadeSemanal || "").toLowerCase();
src/features/fitness-suite/engine/metabolismoActivity.ts:66: * Faz um "merge" seguro no objeto metabolismo para persistência.
src/features/fitness-suite/engine/metabolismoActivity.ts:71:  equacaoUtilizada?: string;
src/features/fitness-suite/engine/metabolismoActivity.ts:73:  caloriasAlvo?: number;
src/features/fitness-suite/engine/metabolismoActivity.ts:77:  const get = computeGET(input.tmb, fatorAtividade);
src/features/fitness-suite/engine/metabolismoActivity.ts:79:  // caloriasAlvo: se vier do seu modelo/objetivo, respeita; caso contrário, usa GET como base
src/features/fitness-suite/engine/metabolismoActivity.ts:80:  const caloriasAlvo = Number.isFinite(input.caloriasAlvo as number)
src/features/fitness-suite/engine/metabolismoActivity.ts:81:    ? Math.round(Number(input.caloriasAlvo))
src/features/fitness-suite/engine/metabolismoActivity.ts:83:  // BLOCO 5C: guardrail fator (evita NaN/undefined)
src/features/fitness-suite/engine/metabolismoActivity.ts:86:    // Mantemos conservador para não inflar GET indevidamente.
src/features/fitness-suite/engine/metabolismoActivity.ts:94:    caloriasAlvo,
src/features/fitness-suite/engine/metabolismoActivity.ts:97:    equacaoUtilizada: input.equacaoUtilizada ?? undefined,
src/engine/metabolic/MetabolicEngine.ts:33: * Determin stico: Mifflin-St Jeor (padr o)
